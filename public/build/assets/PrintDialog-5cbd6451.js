import{_ as k,y as v,i as N,z as x,o as i,c as d,a as t,g as r,t as u,k as h,v as V,f as y}from"./app-c9b46d18.js";const B={key:0,class:"fixed inset-0 bg-gray-600/50 h-full w-full z-50 flex items-center justify-center p-4"},C={class:"relative mx-auto px-6 py-5 border w-full max-w-md shadow-lg rounded-xl bg-white"},D={class:"space-y-4"},j={key:0,class:"text-gray-500 flex items-center gap-2"},P={key:1,class:"text-sm text-gray-700 space-y-1"},z={class:"font-semibold"},M={class:"font-semibold"},T={class:"font-semibold"},E=["max"],F={key:0,class:"text-red-600 text-xs mt-1"},I={class:"mt-5 flex justify-end gap-3"},O=["disabled"],S={__name:"PrintDialog",props:{modelValue:{type:Boolean,default:!1},totals:{type:Object,default:()=>({total:0,verified:0,pending:0})},loading:{type:Boolean,default:!1},count:{type:Number,default:1}},emits:["update:modelValue","update:count","submit"],setup(a,{emit:g}){const n=a,m=g,l=v(()=>{var s,e;return Math.max(0,Number(((s=n.totals)==null?void 0:s.total)??0)-Number(((e=n.totals)==null?void 0:e.verified)??0))}),o=N(n.count||1);x(()=>n.count,s=>{o.value=s||1}),x(o,s=>m("update:count",Number(s)||1));const c=v(()=>{const s=Number(o.value);return!Number.isFinite(s)||s<=0||s>l.value}),b=()=>m("update:modelValue",!1),_=()=>{c.value||m("submit")};return(s,e)=>{var f,p;return a.modelValue?(i(),d("div",B,[t("div",C,[t("div",{class:"flex items-center justify-between mb-3"},[e[2]||(e[2]=t("h3",{class:"text-lg font-medium text-gray-900"},"列印未列印憑證",-1)),t("button",{onClick:b,class:"text-gray-400 hover:text-gray-600"},[...e[1]||(e[1]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("div",D,[a.loading?(i(),d("div",j,[...e[3]||(e[3]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),r(" 讀取統計中... ",-1)])])):(i(),d("div",P,[t("div",null,[e[4]||(e[4]=r("總張數：",-1)),t("span",z,u(((f=a.totals)==null?void 0:f.total)??0),1)]),t("div",null,[e[5]||(e[5]=r("已印數量：",-1)),t("span",M,u(((p=a.totals)==null?void 0:p.verified)??0),1)]),t("div",null,[e[6]||(e[6]=r("未印數量：",-1)),t("span",T,u(l.value),1)])])),t("div",null,[e[7]||(e[7]=t("label",{class:"label-base"},"本次列印數量",-1)),h(t("input",{type:"number",max:l.value,min:"1","onUpdate:modelValue":e[0]||(e[0]=w=>o.value=w),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,8,E),[[V,o.value,void 0,{number:!0}]]),Number(o.value)>l.value?(i(),d("p",F,"不可超過未印數量（"+u(l.value)+"）",1)):y("",!0)])]),t("div",I,[t("button",{onClick:b,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},"取消"),t("button",{onClick:_,disabled:c.value,class:"px-4 py-2 text-sm font-medium text-white bg-amber-600 border border-transparent rounded-md hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed"}," 確認列印 ",8,O)])])])):y("",!0)}}},q=k(S,[["__scopeId","data-v-e2e67115"]]);export{q as P};
