import{_ as h,H as v,r as N,z as x,h as d,c as i,d as t,f as r,t as u,p as k,v as V,j as y}from"./app-9d7b164d.js";const j={key:0,class:"fixed inset-0 bg-gray-600/50 h-full w-full z-50 flex items-center justify-center p-4"},B={class:"relative mx-auto px-6 py-5 border w-full max-w-md shadow-lg rounded-xl bg-white"},C={class:"space-y-4"},D={key:0,class:"text-gray-500 flex items-center gap-2"},P={key:1,class:"text-sm text-gray-700 space-y-1"},z={class:"font-semibold"},M={class:"font-semibold"},T={class:"font-semibold"},E=["max"],F={key:0,class:"text-red-600 text-xs mt-1"},H={class:"mt-5 flex justify-end gap-3"},I=["disabled"],O={__name:"PrintDialog",props:{modelValue:{type:Boolean,default:!1},totals:{type:Object,default:()=>({total:0,verified:0,pending:0})},loading:{type:Boolean,default:!1},count:{type:Number,default:1}},emits:["update:modelValue","update:count","submit"],setup(a,{emit:g}){const n=a,m=g,l=v(()=>{var s,e;return Math.max(0,Number(((s=n.totals)==null?void 0:s.total)??0)-Number(((e=n.totals)==null?void 0:e.verified)??0))}),o=N(n.count||1);x(()=>n.count,s=>{o.value=s||1}),x(o,s=>m("update:count",Number(s)||1));const c=v(()=>{const s=Number(o.value);return!Number.isFinite(s)||s<=0||s>l.value}),b=()=>m("update:modelValue",!1),_=()=>{c.value||m("submit")};return(s,e)=>{var f,p;return a.modelValue?(d(),i("div",j,[t("div",B,[t("div",{class:"flex items-center justify-between mb-3"},[e[2]||(e[2]=t("h3",{class:"text-lg font-medium text-gray-900"},"列印未列印憑證",-1)),t("button",{onClick:b,class:"text-gray-400 hover:text-gray-600"},[...e[1]||(e[1]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("div",C,[a.loading?(d(),i("div",D,[...e[3]||(e[3]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),r(" 讀取統計中... ",-1)])])):(d(),i("div",P,[t("div",null,[e[4]||(e[4]=r("總張數：",-1)),t("span",z,u(((f=a.totals)==null?void 0:f.total)??0),1)]),t("div",null,[e[5]||(e[5]=r("已印數量：",-1)),t("span",M,u(((p=a.totals)==null?void 0:p.verified)??0),1)]),t("div",null,[e[6]||(e[6]=r("未印數量：",-1)),t("span",T,u(l.value),1)])])),t("div",null,[e[7]||(e[7]=t("label",{class:"label-base"},"本次列印數量",-1)),k(t("input",{type:"number",max:l.value,min:"1","onUpdate:modelValue":e[0]||(e[0]=w=>o.value=w),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,8,E),[[V,o.value,void 0,{number:!0}]]),Number(o.value)>l.value?(d(),i("p",F,"不可超過未印數量（"+u(l.value)+"）",1)):y("",!0)])]),t("div",H,[t("button",{onClick:b,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},"取消"),t("button",{onClick:_,disabled:c.value,class:"px-4 py-2 text-sm font-medium text-white bg-amber-600 border border-transparent rounded-md hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed"}," 確認列印 ",8,I)])])])):y("",!0)}}},U=h(O,[["__scopeId","data-v-e2e67115"]]);export{U as P};
