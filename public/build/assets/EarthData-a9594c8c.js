import{h as C,c as L,d as l,j as I,A as Yt,q as wt,i as G,F as Oe,g as Be,B as he,C as da,t as M,D as Ba,T as Da,E as Pe,G as _t,r as D,H as ae,z as Ce,I as xt,o as $t,J as qa,K as it,L as ja,b as Ia,y as Bt,k as Dt,w as Ma,f as se,p as fe,v as ge,s as Jt,e as ze,l as Ra}from"./app-86615f25.js";import{P as Va}from"./PrintDialog-6122d9df.js";import{u as $a}from"./usePagination-22cbe88a.js";import{c as qt,e as Ge}from"./common-e7838c46.js";function Ie(e){return e==null}function Na(e,a,t){const{object:o,valueProp:r,mode:p}=Pe(e),n=_t().proxy,d=t.iv,b=(x,S=!0)=>{d.value=u(x);const w=m(x);a.emit("change",w,n),S&&(a.emit("input",w),a.emit("update:modelValue",w))},m=x=>o.value||Ie(x)?x:Array.isArray(x)?x.map(S=>S[r.value]):x[r.value],u=x=>Ie(x)?p.value==="single"?{}:[]:x;return{update:b}}function ne(e){return ja(()=>({get:e,set:()=>{}}))}function Fa(e,a){const{value:t,modelValue:o,mode:r,valueProp:p}=Pe(e),n=D(r.value!=="single"?[]:{}),d=ne(()=>o.value!==void 0?o.value:t.value),b=ae(()=>r.value==="single"?n.value[p.value]:n.value.map(u=>u[p.value])),m=ne(()=>r.value!=="single"?n.value.map(u=>u[p.value]).join(","):n.value[p.value]);return{iv:n,internalValue:n,ev:d,externalValue:d,textValue:m,plainValue:b}}function Wa(e,a,t){const{regex:o}=Pe(e),r=_t().proxy,p=t.isOpen,n=t.open,d=D(null),b=()=>{d.value=""},m=S=>{d.value=S.target.value},u=S=>{if(o.value){let w=o.value;typeof w=="string"&&(w=new RegExp(w)),S.key.match(w)||S.preventDefault()}},x=S=>{if(o.value){let T=(S.clipboardData||window.clipboardData).getData("Text"),P=o.value;typeof P=="string"&&(P=new RegExp(P)),T.split("").every(E=>!!E.match(P))||S.preventDefault()}a.emit("paste",S,r)};return Ce(d,S=>{!p.value&&S&&n(),a.emit("search-change",S,r)}),{search:d,clearSearch:b,handleSearchInput:m,handleKeypress:u,handlePaste:x}}function Ua(e,a,t){const{groupSelect:o,mode:r,groups:p,disabledProp:n}=Pe(e),d=D(null),b=u=>{u===void 0||u!==null&&u[n.value]||p.value&&u&&u.group&&(r.value==="single"||!o.value)||(d.value=u)};return{pointer:d,setPointer:b,clearPointer:()=>{b(null)}}}function Qt(e,a=!0){return a?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(/æ/g,"ae").replace(/œ/g,"oe").replace(/ø/g,"o").replace(/\p{Diacritic}/gu,"")}function Ha(e){return Object.prototype.toString.call(e)==="[object Object]"}function za(e,a){if(e.length!==a.length)return!1;const t=a.slice().sort();return e.slice().sort().every(function(o,r){return o===t[r]})}const ya=(e,a)=>{if(e===a)return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;const t=Object.keys(e),o=Object.keys(a);if(t.length!==o.length)return!1;for(let r of t)if(!o.includes(r)||!ya(e[r],a[r]))return!1;return!0};function Ga(e,a,t){const{options:o,mode:r,trackBy:p,limit:n,hideSelected:d,createTag:b,createOption:m,label:u,appendNewTag:x,appendNewOption:S,multipleLabel:w,object:T,loading:P,delay:E,resolveOnLoad:O,minChars:q,filterResults:v,clearOnSearch:k,clearOnSelect:A,valueProp:y,allowAbsent:W,groupLabel:V,canDeselect:N,max:F,strict:z,closeOnSelect:j,closeOnDeselect:Q,groups:K,reverse:ce,infinite:ee,groupOptions:J,groupHideEmpty:be,groupSelect:U,onCreate:Z,disabledProp:X,searchStart:oe,searchFilter:ve}=Pe(e),Y=_t().proxy,R=t.iv,g=t.ev,B=t.search,re=t.clearSearch,me=t.update,Je=t.pointer,_=t.setPointer,le=t.clearPointer,Qe=t.focus,vt=t.deactivate,ie=t.close,rt=t.localize,we=D([]),xe=D([]),ye=D(!1),ke=D(null),_e=D(ee.value&&n.value===-1?10:n.value),Ze=ae({get:()=>xe.value,set:i=>xe.value=i}),et=ne(()=>b.value||m.value||!1),Ve=ne(()=>x.value!==void 0?x.value:S.value!==void 0?S.value:!0),Se=ae(()=>{if(K.value){let i=$e.value||[],h=[];return i.forEach(H=>{Kt(H[J.value]).forEach(de=>{h.push(Object.assign({},de,H[X.value]?{[X.value]:!0}:{}))})}),h}else{let i=Kt(xe.value||[]);return we.value.length&&(i=i.concat(we.value)),i}}),tt=ae(()=>{let i=Se.value;return ce.value&&(i=i.reverse()),He.value.length&&(i=He.value.concat(i)),Gt(i)}),qe=ae(()=>{let i=tt.value;return _e.value>0&&(i=i.slice(0,_e.value)),i}),$e=ae(()=>{if(!K.value)return[];let i=[],h=xe.value||[];return we.value.length&&i.push({[V.value]:" ",[J.value]:[...we.value],__CREATE__:!0}),i.concat(h)}),pt=ae(()=>{let i=[...$e.value].map(h=>({...h}));return He.value.length&&(i[0]&&i[0].__CREATE__?i[0][J.value]=[...He.value,...i[0][J.value]]:i=[{[V.value]:" ",[J.value]:[...He.value],__CREATE__:!0}].concat(i)),i}),bt=ae(()=>{if(!K.value)return[];let i=pt.value;return Ta((i||[]).map((h,H)=>{const de=Kt(h[J.value]);return{...h,index:H,group:!0,[J.value]:Gt(de,!1).map(at=>Object.assign({},at,h[X.value]?{[X.value]:!0}:{})),__VISIBLE__:Gt(de).map(at=>Object.assign({},at,h[X.value]?{[X.value]:!0}:{}))}}))}),mt=ae(()=>{switch(r.value){case"single":return!Ie(R.value[y.value]);case"multiple":case"tags":return!Ie(R.value)&&R.value.length>0}}),Ut=ae(()=>w.value!==void 0?w.value(R.value,Y):R.value&&R.value.length>1?`${R.value.length} options selected`:"1 option selected"),Ht=ne(()=>!Se.value.length&&!ye.value&&!He.value.length),St=ne(()=>Se.value.length>0&&qe.value.length==0&&(B.value&&K.value||!K.value)),He=ae(()=>et.value===!1||!B.value?[]:Ca(B.value)!==-1?[]:[{[y.value]:B.value,[Ne.value[0]]:B.value,[u.value]:B.value,__CREATE__:!0}]),Ne=ae(()=>p.value?Array.isArray(p.value)?p.value:[p.value]:[u.value]),gt=ne(()=>{switch(r.value){case"single":return null;case"multiple":case"tags":return[]}}),zt=ne(()=>P.value||ye.value),c=i=>{switch(typeof i!="object"&&(i=Ae(i)),r.value){case"single":me(i);break;case"multiple":case"tags":me(R.value.concat(i));break}a.emit("select",$(i),i,Y)},s=i=>{switch(typeof i!="object"&&(i=Ae(i)),r.value){case"single":Ee();break;case"tags":case"multiple":me(Array.isArray(i)?R.value.filter(h=>i.map(H=>H[y.value]).indexOf(h[y.value])===-1):R.value.filter(h=>h[y.value]!=i[y.value]));break}a.emit("deselect",$(i),i,Y)},$=i=>T.value?i:i[y.value],te=i=>{s(i)},Fe=(i,h)=>{if(h.button!==0){h.preventDefault();return}te(i)},Ee=()=>{me(gt.value),a.emit("clear",Y)},ue=i=>{if(i.group!==void 0)return r.value==="single"?!1:pe(i[J.value])&&i[J.value].length;switch(r.value){case"single":return!Ie(R.value)&&(R.value[y.value]==i[y.value]||typeof R.value[y.value]=="object"&&typeof i[y.value]=="object"&&ya(R.value[y.value],i[y.value]));case"tags":case"multiple":return!Ie(R.value)&&R.value.map(h=>h[y.value]).indexOf(i[y.value])!==-1}},je=i=>i[X.value]===!0,nt=()=>F===void 0||F.value===-1||!mt.value&&F.value>0?!1:R.value.length>=F.value,Ct=i=>{if(!je(i)){if(Z.value&&!ue(i)&&i.__CREATE__&&(i={...i},delete i.__CREATE__,i=Z.value(i,Y),i instanceof Promise)){ye.value=!0,i.then(h=>{ye.value=!1,yt(h)});return}yt(i)}},yt=i=>{switch(i.__CREATE__&&(i={...i},delete i.__CREATE__),r.value){case"single":if(i&&ue(i)){N.value&&s(i),Q.value&&(le(),ie());return}i&&ot(i),A.value&&re(),j.value&&(le(),ie()),i&&c(i);break;case"multiple":if(i&&ue(i)){s(i),Q.value&&(le(),ie());return}if(nt()){a.emit("max",Y);return}i&&(ot(i),c(i)),A.value&&re(),d.value&&le(),j.value&&ie();break;case"tags":if(i&&ue(i)){s(i),Q.value&&(le(),ie());return}if(nt()){a.emit("max",Y);return}i&&ot(i),A.value&&re(),i&&c(i),d.value&&le(),j.value&&ie();break}j.value||Qe()},Lt=i=>{if(!(je(i)||r.value==="single"||!U.value)){switch(r.value){case"multiple":case"tags":f(i[J.value])?s(i[J.value]):c(i[J.value].filter(h=>R.value.map(H=>H[y.value]).indexOf(h[y.value])===-1).filter(h=>!h[X.value]).filter((h,H)=>R.value.length+1+H<=F.value||F.value===-1)),d.value&&Je.value&&_(bt.value.filter(h=>!h[X.value])[Je.value.index]);break}j.value&&vt()}},ot=i=>{Ae(i[y.value])===void 0&&et.value&&(a.emit("tag",i[y.value],Y),a.emit("option",i[y.value],Y),a.emit("create",i[y.value],Y),Ve.value&&Pa(i),re())},Pt=()=>{r.value!=="single"&&c(qe.value.filter(i=>!i.disabled&&!ue(i)))},f=i=>i.find(h=>!ue(h)&&!h[X.value])===void 0,pe=i=>i.find(h=>!ue(h))===void 0,Ae=i=>Se.value[Se.value.map(h=>String(h[y.value])).indexOf(String(i))],Ca=i=>Se.value.findIndex(h=>Ne.value.some(H=>(parseInt(h[H])==h[H]?parseInt(h[H]):h[H])===(parseInt(i)==i?parseInt(i):i))),La=i=>["tags","multiple"].indexOf(r.value)!==-1&&d.value&&ue(i),Pa=i=>{we.value.push(i)},Ta=i=>be.value?i.filter(h=>B.value?h.__VISIBLE__.length:h[J.value].length):i.filter(h=>B.value?h.__VISIBLE__.length:!0),Gt=(i,h=!0)=>{let H=i;if(B.value&&v.value){let de=ve.value;de||(de=(at,ia,eo)=>Ne.value.some(Aa=>{let ua=Qt(rt(at[Aa]),z.value);return oe.value?ua.startsWith(Qt(ia,z.value)):ua.indexOf(Qt(ia,z.value))!==-1})),H=H.filter(at=>de(at,B.value,Y))}return d.value&&h&&(H=H.filter(de=>!La(de))),H},Kt=i=>{let h=i;return Ha(h)&&(h=Object.keys(h).map(H=>{let de=h[H];return{[y.value]:H,[Ne.value[0]]:de,[u.value]:de}})),h&&Array.isArray(h)?h=h.map(H=>typeof H=="object"?H:{[y.value]:H,[Ne.value[0]]:H,[u.value]:H}):h=[],h},Tt=()=>{Ie(g.value)||(R.value=At(g.value))},Et=i=>(ye.value=!0,new Promise((h,H)=>{o.value(B.value,Y).then(de=>{xe.value=de||[],typeof i=="function"&&i(de),ye.value=!1}).catch(de=>{console.error(de),xe.value=[],ye.value=!1}).finally(()=>{h()})})),Xt=()=>{if(mt.value)if(r.value==="single"){let i=Ae(R.value[y.value]);if(i!==void 0){let h=i[u.value];R.value[u.value]=h,T.value&&(g.value[u.value]=h)}}else R.value.forEach((i,h)=>{let H=Ae(R.value[h][y.value]);if(H!==void 0){let de=H[u.value];R.value[h][u.value]=de,T.value&&(g.value[h][u.value]=de)}})},Ea=i=>{Et(i)},At=i=>Ie(i)?r.value==="single"?{}:[]:T.value?i:r.value==="single"?Ae(i)||(W.value?{[u.value]:i,[y.value]:i,[Ne.value[0]]:i}:{}):i.filter(h=>!!Ae(h)||W.value).map(h=>Ae(h)||{[u.value]:h,[y.value]:h,[Ne.value[0]]:h}),oa=()=>{ke.value=Ce(B,i=>{i.length<q.value||!i&&q.value!==0||(ye.value=!0,k.value&&(xe.value=[]),setTimeout(()=>{i==B.value&&o.value(B.value,Y).then(h=>{(i==B.value||!B.value)&&(xe.value=h,Je.value=qe.value.filter(H=>H[X.value]!==!0)[0]||null,ye.value=!1)}).catch(h=>{console.error(h)})},E.value))},{flush:"sync"})};if(r.value!=="single"&&!Ie(g.value)&&!Array.isArray(g.value))throw new Error(`v-model must be an array when using "${r.value}" mode`);return o&&typeof o.value=="function"?O.value?Et(Tt):T.value==!0&&Tt():(xe.value=o.value,Tt()),E.value>-1&&oa(),Ce(E,(i,h)=>{ke.value&&ke.value(),i>=0&&oa()}),Ce(g,i=>{if(Ie(i)){me(At(i),!1);return}switch(r.value){case"single":(T.value?i[y.value]!=R.value[y.value]:i!=R.value[y.value])&&me(At(i),!1);break;case"multiple":case"tags":za(T.value?i.map(h=>h[y.value]):i,R.value.map(h=>h[y.value]))||me(At(i),!1);break}},{deep:!0}),Ce(o,(i,h)=>{typeof e.options=="function"?O.value&&(!h||i&&i.toString()!==h.toString())&&Et():(xe.value=e.options,Object.keys(R.value).length||Tt(),Xt())}),Ce(u,Xt),Ce(n,(i,h)=>{_e.value=ee.value&&i===-1?10:i}),{resolvedOptions:Ze,pfo:tt,fo:qe,filteredOptions:qe,hasSelected:mt,multipleLabelText:Ut,eo:Se,extendedOptions:Se,eg:$e,extendedGroups:$e,fg:bt,filteredGroups:bt,noOptions:Ht,noResults:St,resolving:ye,busy:zt,offset:_e,select:c,deselect:s,remove:te,selectAll:Pt,clear:Ee,isSelected:ue,isDisabled:je,isMax:nt,getOption:Ae,handleOptionClick:Ct,handleGroupClick:Lt,handleTagRemove:Fe,refreshOptions:Ea,resolveOptions:Et,refreshLabels:Xt}}function Ka(e,a,t){const{valueProp:o,showOptions:r,searchable:p,groupLabel:n,groups:d,mode:b,groupSelect:m,disabledProp:u,groupOptions:x}=Pe(e),S=t.fo,w=t.fg,T=t.handleOptionClick,P=t.handleGroupClick,E=t.search,O=t.pointer,q=t.setPointer,v=t.clearPointer,k=t.multiselect,A=t.isOpen,y=ae(()=>S.value.filter(g=>!g[u.value])),W=ae(()=>w.value.filter(g=>!g[u.value])),V=ne(()=>b.value!=="single"&&m.value),N=ne(()=>O.value&&O.value.group),F=ae(()=>Y(O.value)),z=ae(()=>{const g=N.value?O.value:Y(O.value),B=W.value.map(me=>me[n.value]).indexOf(g[n.value]);let re=W.value[B-1];return re===void 0&&(re=Q.value),re}),j=ae(()=>{let g=W.value.map(B=>B.label).indexOf(N.value?O.value[n.value]:Y(O.value)[n.value])+1;return W.value.length<=g&&(g=0),W.value[g]}),Q=ae(()=>[...W.value].slice(-1)[0]),K=ae(()=>O.value.__VISIBLE__.filter(g=>!g[u.value])[0]),ce=ae(()=>{const g=F.value.__VISIBLE__.filter(B=>!B[u.value]);return g[g.map(B=>B[o.value]).indexOf(O.value[o.value])-1]}),ee=ae(()=>{const g=Y(O.value).__VISIBLE__.filter(B=>!B[u.value]);return g[g.map(B=>B[o.value]).indexOf(O.value[o.value])+1]}),J=ae(()=>[...z.value.__VISIBLE__.filter(g=>!g[u.value])].slice(-1)[0]),be=ae(()=>[...Q.value.__VISIBLE__.filter(g=>!g[u.value])].slice(-1)[0]),U=g=>O.value&&(!g.group&&O.value[o.value]===g[o.value]||g.group!==void 0&&O.value[n.value]===g[n.value])?!0:void 0,Z=()=>{q(y.value[0]||null)},X=()=>{!O.value||O.value[u.value]===!0||(N.value?P(O.value):T(O.value))},oe=()=>{if(O.value===null)q((d.value&&V.value?W.value[0].__CREATE__?y.value[0]:W.value[0]:y.value[0])||null);else if(d.value&&V.value){let g=N.value?K.value:ee.value;g===void 0&&(g=j.value,g.__CREATE__&&(g=g[x.value][0])),q(g||null)}else{let g=y.value.map(B=>B[o.value]).indexOf(O.value[o.value])+1;y.value.length<=g&&(g=0),q(y.value[g]||null)}xt(()=>{R()})},ve=()=>{if(O.value===null){let g=y.value[y.value.length-1];d.value&&V.value&&(g=be.value,g===void 0&&(g=Q.value)),q(g||null)}else if(d.value&&V.value){let g=N.value?J.value:ce.value;g===void 0&&(g=N.value?z.value:F.value,g.__CREATE__&&(g=J.value,g===void 0&&(g=z.value))),q(g||null)}else{let g=y.value.map(B=>B[o.value]).indexOf(O.value[o.value])-1;g<0&&(g=y.value.length-1),q(y.value[g]||null)}xt(()=>{R()})},Y=g=>W.value.find(B=>B.__VISIBLE__.map(re=>re[o.value]).indexOf(g[o.value])!==-1),R=()=>{let g=k.value.querySelector("[data-pointed]");if(!g)return;let B=g.parentElement.parentElement;d.value&&(B=N.value?g.parentElement.parentElement.parentElement:g.parentElement.parentElement.parentElement.parentElement),g.offsetTop+g.offsetHeight>B.clientHeight+B.scrollTop&&(B.scrollTop=g.offsetTop+g.offsetHeight-B.clientHeight),g.offsetTop<B.scrollTop&&(B.scrollTop=g.offsetTop)};return Ce(E,g=>{p.value&&(g.length&&r.value?Z():v())}),Ce(A,g=>{if(g&&k&&k.value){let B=k.value.querySelectorAll("[data-selected]")[0];if(!B)return;let re=B.parentElement.parentElement;xt(()=>{re.scrollTop=B.offsetTop})}}),{pointer:O,canPointGroups:V,isPointed:U,setPointerFirst:Z,selectPointer:X,forwardPointer:oe,backwardPointer:ve}}function Le(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var a=e.ownerDocument;return a&&a.defaultView||window}return e}function st(e){var a=Le(e).Element;return e instanceof a||e instanceof Element}function Te(e){var a=Le(e).HTMLElement;return e instanceof a||e instanceof HTMLElement}function ta(e){if(typeof ShadowRoot>"u")return!1;var a=Le(e).ShadowRoot;return e instanceof a||e instanceof ShadowRoot}var lt=Math.max,Rt=Math.min,ut=Math.round;function Zt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function ha(){return!/^((?!chrome|android).)*safari/i.test(Zt())}function dt(e,a,t){a===void 0&&(a=!1),t===void 0&&(t=!1);var o=e.getBoundingClientRect(),r=1,p=1;a&&Te(e)&&(r=e.offsetWidth>0&&ut(o.width)/e.offsetWidth||1,p=e.offsetHeight>0&&ut(o.height)/e.offsetHeight||1);var n=st(e)?Le(e):window,d=n.visualViewport,b=!ha()&&t,m=(o.left+(b&&d?d.offsetLeft:0))/r,u=(o.top+(b&&d?d.offsetTop:0))/p,x=o.width/r,S=o.height/p;return{width:x,height:S,top:u,right:m+x,bottom:u+S,left:m,x:m,y:u}}function aa(e){var a=Le(e),t=a.pageXOffset,o=a.pageYOffset;return{scrollLeft:t,scrollTop:o}}function Xa(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ya(e){return e===Le(e)||!Te(e)?aa(e):Xa(e)}function Me(e){return e?(e.nodeName||"").toLowerCase():null}function Ye(e){return((st(e)?e.ownerDocument:e.document)||window.document).documentElement}function la(e){return dt(Ye(e)).left+aa(e).scrollLeft}function Ue(e){return Le(e).getComputedStyle(e)}function sa(e){var a=Ue(e),t=a.overflow,o=a.overflowX,r=a.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+o)}function Ja(e){var a=e.getBoundingClientRect(),t=ut(a.width)/e.offsetWidth||1,o=ut(a.height)/e.offsetHeight||1;return t!==1||o!==1}function Qa(e,a,t){t===void 0&&(t=!1);var o=Te(a),r=Te(a)&&Ja(a),p=Ye(a),n=dt(e,r,t),d={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(o||!o&&!t)&&((Me(a)!=="body"||sa(p))&&(d=Ya(a)),Te(a)?(b=dt(a,!0),b.x+=a.clientLeft,b.y+=a.clientTop):p&&(b.x=la(p))),{x:n.left+d.scrollLeft-b.x,y:n.top+d.scrollTop-b.y,width:n.width,height:n.height}}function wa(e){var a=dt(e),t=e.offsetWidth,o=e.offsetHeight;return Math.abs(a.width-t)<=1&&(t=a.width),Math.abs(a.height-o)<=1&&(o=a.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:o}}function Nt(e){return Me(e)==="html"?e:e.assignedSlot||e.parentNode||(ta(e)?e.host:null)||Ye(e)}function xa(e){return["html","body","#document"].indexOf(Me(e))>=0?e.ownerDocument.body:Te(e)&&sa(e)?e:xa(Nt(e))}function Ot(e,a){var t;a===void 0&&(a=[]);var o=xa(e),r=o===((t=e.ownerDocument)==null?void 0:t.body),p=Le(o),n=r?[p].concat(p.visualViewport||[],sa(o)?o:[]):o,d=a.concat(n);return r?d:d.concat(Ot(Nt(n)))}function Za(e){return["table","td","th"].indexOf(Me(e))>=0}function ca(e){return!Te(e)||Ue(e).position==="fixed"?null:e.offsetParent}function el(e){var a=/firefox/i.test(Zt()),t=/Trident/i.test(Zt());if(t&&Te(e)){var o=Ue(e);if(o.position==="fixed")return null}var r=Nt(e);for(ta(r)&&(r=r.host);Te(r)&&["html","body"].indexOf(Me(r))<0;){var p=Ue(r);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||a&&p.willChange==="filter"||a&&p.filter&&p.filter!=="none")return r;r=r.parentNode}return null}function Ft(e){for(var a=Le(e),t=ca(e);t&&Za(t)&&Ue(t).position==="static";)t=ca(t);return t&&(Me(t)==="html"||Me(t)==="body"&&Ue(t).position==="static")?a:t||el(e)||a}var De="top",Re="bottom",Xe="right",We="left",ra="auto",Wt=[De,Re,Xe,We],ct="start",kt="end",tl="clippingParents",Oa="viewport",ht="popper",al="reference",fa=Wt.reduce(function(e,a){return e.concat([a+"-"+ct,a+"-"+kt])},[]),ll=[].concat(Wt,[ra]).reduce(function(e,a){return e.concat([a,a+"-"+ct,a+"-"+kt])},[]),sl="beforeRead",rl="read",nl="afterRead",ol="beforeMain",il="main",ul="afterMain",dl="beforeWrite",cl="write",fl="afterWrite",vl=[sl,rl,nl,ol,il,ul,dl,cl,fl];function pl(e){var a=new Map,t=new Set,o=[];e.forEach(function(p){a.set(p.name,p)});function r(p){t.add(p.name);var n=[].concat(p.requires||[],p.requiresIfExists||[]);n.forEach(function(d){if(!t.has(d)){var b=a.get(d);b&&r(b)}}),o.push(p)}return e.forEach(function(p){t.has(p.name)||r(p)}),o}function bl(e){var a=pl(e);return vl.reduce(function(t,o){return t.concat(a.filter(function(r){return r.phase===o}))},[])}function ml(e){var a;return function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(e())})})),a}}function gl(e){var a=e.reduce(function(t,o){var r=t[o.name];return t[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,t},{});return Object.keys(a).map(function(t){return a[t]})}function yl(e,a){var t=Le(e),o=Ye(e),r=t.visualViewport,p=o.clientWidth,n=o.clientHeight,d=0,b=0;if(r){p=r.width,n=r.height;var m=ha();(m||!m&&a==="fixed")&&(d=r.offsetLeft,b=r.offsetTop)}return{width:p,height:n,x:d+la(e),y:b}}function hl(e){var a,t=Ye(e),o=aa(e),r=(a=e.ownerDocument)==null?void 0:a.body,p=lt(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),n=lt(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),d=-o.scrollLeft+la(e),b=-o.scrollTop;return Ue(r||t).direction==="rtl"&&(d+=lt(t.clientWidth,r?r.clientWidth:0)-p),{width:p,height:n,x:d,y:b}}function wl(e,a){var t=a.getRootNode&&a.getRootNode();if(e.contains(a))return!0;if(t&&ta(t)){var o=a;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ea(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xl(e,a){var t=dt(e,!1,a==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function va(e,a,t){return a===Oa?ea(yl(e,t)):st(a)?xl(a,t):ea(hl(Ye(e)))}function Ol(e){var a=Ot(Nt(e)),t=["absolute","fixed"].indexOf(Ue(e).position)>=0,o=t&&Te(e)?Ft(e):e;return st(o)?a.filter(function(r){return st(r)&&wl(r,o)&&Me(r)!=="body"}):[]}function kl(e,a,t,o){var r=a==="clippingParents"?Ol(e):[].concat(a),p=[].concat(r,[t]),n=p[0],d=p.reduce(function(b,m){var u=va(e,m,o);return b.top=lt(u.top,b.top),b.right=Rt(u.right,b.right),b.bottom=Rt(u.bottom,b.bottom),b.left=lt(u.left,b.left),b},va(e,n,o));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function Ke(e){return e.split("-")[0]}function ft(e){return e.split("-")[1]}function ka(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _a(e){var a=e.reference,t=e.element,o=e.placement,r=o?Ke(o):null,p=o?ft(o):null,n=a.x+a.width/2-t.width/2,d=a.y+a.height/2-t.height/2,b;switch(r){case De:b={x:n,y:a.y-t.height};break;case Re:b={x:n,y:a.y+a.height};break;case Xe:b={x:a.x+a.width,y:d};break;case We:b={x:a.x-t.width,y:d};break;default:b={x:a.x,y:a.y}}var m=r?ka(r):null;if(m!=null){var u=m==="y"?"height":"width";switch(p){case ct:b[m]=b[m]-(a[u]/2-t[u]/2);break;case kt:b[m]=b[m]+(a[u]/2-t[u]/2);break}}return b}function Sa(){return{top:0,right:0,bottom:0,left:0}}function _l(e){return Object.assign({},Sa(),e)}function Sl(e,a){return a.reduce(function(t,o){return t[o]=e,t},{})}function na(e,a){a===void 0&&(a={});var t=a,o=t.placement,r=o===void 0?e.placement:o,p=t.strategy,n=p===void 0?e.strategy:p,d=t.boundary,b=d===void 0?tl:d,m=t.rootBoundary,u=m===void 0?Oa:m,x=t.elementContext,S=x===void 0?ht:x,w=t.altBoundary,T=w===void 0?!1:w,P=t.padding,E=P===void 0?0:P,O=_l(typeof E!="number"?E:Sl(E,Wt)),q=S===ht?al:ht,v=e.rects.popper,k=e.elements[T?q:S],A=kl(st(k)?k:k.contextElement||Ye(e.elements.popper),b,u,n),y=dt(e.elements.reference),W=_a({reference:y,element:v,strategy:"absolute",placement:r}),V=ea(Object.assign({},v,W)),N=S===ht?V:y,F={top:A.top-N.top+O.top,bottom:N.bottom-A.bottom+O.bottom,left:A.left-N.left+O.left,right:N.right-A.right+O.right},z=e.modifiersData.offset;if(S===ht&&z){var j=z[r];Object.keys(F).forEach(function(Q){var K=[Xe,Re].indexOf(Q)>=0?1:-1,ce=[De,Re].indexOf(Q)>=0?"y":"x";F[Q]+=j[ce]*K})}return F}var pa={placement:"bottom",modifiers:[],strategy:"absolute"};function ba(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return!a.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Cl(e){e===void 0&&(e={});var a=e,t=a.defaultModifiers,o=t===void 0?[]:t,r=a.defaultOptions,p=r===void 0?pa:r;return function(d,b,m){m===void 0&&(m=p);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},pa,p),modifiersData:{},elements:{reference:d,popper:b},attributes:{},styles:{}},x=[],S=!1,w={state:u,setOptions:function(O){var q=typeof O=="function"?O(u.options):O;P(),u.options=Object.assign({},p,u.options,q),u.scrollParents={reference:st(d)?Ot(d):d.contextElement?Ot(d.contextElement):[],popper:Ot(b)};var v=bl(gl([].concat(o,u.options.modifiers)));return u.orderedModifiers=v.filter(function(k){return k.enabled}),T(),w.update()},forceUpdate:function(){if(!S){var O=u.elements,q=O.reference,v=O.popper;if(ba(q,v)){u.rects={reference:Qa(q,Ft(v),u.options.strategy==="fixed"),popper:wa(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(F){return u.modifiersData[F.name]=Object.assign({},F.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var A=u.orderedModifiers[k],y=A.fn,W=A.options,V=W===void 0?{}:W,N=A.name;typeof y=="function"&&(u=y({state:u,options:V,name:N,instance:w})||u)}}}},update:ml(function(){return new Promise(function(E){w.forceUpdate(),E(u)})}),destroy:function(){P(),S=!0}};if(!ba(d,b))return w;w.setOptions(m).then(function(E){!S&&m.onFirstUpdate&&m.onFirstUpdate(E)});function T(){u.orderedModifiers.forEach(function(E){var O=E.name,q=E.options,v=q===void 0?{}:q,k=E.effect;if(typeof k=="function"){var A=k({state:u,name:O,instance:w,options:v}),y=function(){};x.push(A||y)}})}function P(){x.forEach(function(E){return E()}),x=[]}return w}}var jt={passive:!0};function Ll(e){var a=e.state,t=e.instance,o=e.options,r=o.scroll,p=r===void 0?!0:r,n=o.resize,d=n===void 0?!0:n,b=Le(a.elements.popper),m=[].concat(a.scrollParents.reference,a.scrollParents.popper);return p&&m.forEach(function(u){u.addEventListener("scroll",t.update,jt)}),d&&b.addEventListener("resize",t.update,jt),function(){p&&m.forEach(function(u){u.removeEventListener("scroll",t.update,jt)}),d&&b.removeEventListener("resize",t.update,jt)}}var Pl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ll,data:{}};function Tl(e){var a=e.state,t=e.name;a.modifiersData[t]=_a({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})}var El={name:"popperOffsets",enabled:!0,phase:"read",fn:Tl,data:{}},Al={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bl(e,a){var t=e.x,o=e.y,r=a.devicePixelRatio||1;return{x:ut(t*r)/r||0,y:ut(o*r)/r||0}}function ma(e){var a,t=e.popper,o=e.popperRect,r=e.placement,p=e.variation,n=e.offsets,d=e.position,b=e.gpuAcceleration,m=e.adaptive,u=e.roundOffsets,x=e.isFixed,S=n.x,w=S===void 0?0:S,T=n.y,P=T===void 0?0:T,E=typeof u=="function"?u({x:w,y:P}):{x:w,y:P};w=E.x,P=E.y;var O=n.hasOwnProperty("x"),q=n.hasOwnProperty("y"),v=We,k=De,A=window;if(m){var y=Ft(t),W="clientHeight",V="clientWidth";if(y===Le(t)&&(y=Ye(t),Ue(y).position!=="static"&&d==="absolute"&&(W="scrollHeight",V="scrollWidth")),y=y,r===De||(r===We||r===Xe)&&p===kt){k=Re;var N=x&&y===A&&A.visualViewport?A.visualViewport.height:y[W];P-=N-o.height,P*=b?1:-1}if(r===We||(r===De||r===Re)&&p===kt){v=Xe;var F=x&&y===A&&A.visualViewport?A.visualViewport.width:y[V];w-=F-o.width,w*=b?1:-1}}var z=Object.assign({position:d},m&&Al),j=u===!0?Bl({x:w,y:P},Le(t)):{x:w,y:P};if(w=j.x,P=j.y,b){var Q;return Object.assign({},z,(Q={},Q[k]=q?"0":"",Q[v]=O?"0":"",Q.transform=(A.devicePixelRatio||1)<=1?"translate("+w+"px, "+P+"px)":"translate3d("+w+"px, "+P+"px, 0)",Q))}return Object.assign({},z,(a={},a[k]=q?P+"px":"",a[v]=O?w+"px":"",a.transform="",a))}function Dl(e){var a=e.state,t=e.options,o=t.gpuAcceleration,r=o===void 0?!0:o,p=t.adaptive,n=p===void 0?!0:p,d=t.roundOffsets,b=d===void 0?!0:d,m={placement:Ke(a.placement),variation:ft(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:r,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,ma(Object.assign({},m,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:n,roundOffsets:b})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,ma(Object.assign({},m,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:b})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}var ql={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dl,data:{}};function jl(e){var a=e.state;Object.keys(a.elements).forEach(function(t){var o=a.styles[t]||{},r=a.attributes[t]||{},p=a.elements[t];!Te(p)||!Me(p)||(Object.assign(p.style,o),Object.keys(r).forEach(function(n){var d=r[n];d===!1?p.removeAttribute(n):p.setAttribute(n,d===!0?"":d)}))})}function Il(e){var a=e.state,t={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,t.popper),a.styles=t,a.elements.arrow&&Object.assign(a.elements.arrow.style,t.arrow),function(){Object.keys(a.elements).forEach(function(o){var r=a.elements[o],p=a.attributes[o]||{},n=Object.keys(a.styles.hasOwnProperty(o)?a.styles[o]:t[o]),d=n.reduce(function(b,m){return b[m]="",b},{});!Te(r)||!Me(r)||(Object.assign(r.style,d),Object.keys(p).forEach(function(b){r.removeAttribute(b)}))})}}var Ml={name:"applyStyles",enabled:!0,phase:"write",fn:jl,effect:Il,requires:["computeStyles"]},Rl=[Pl,El,ql,Ml],Vl=Cl({defaultModifiers:Rl});function $l(e){return e==="x"?"y":"x"}function It(e,a,t){return lt(e,Rt(a,t))}function Nl(e,a,t){var o=It(e,a,t);return o>t?t:o}function Fl(e){var a=e.state,t=e.options,o=e.name,r=t.mainAxis,p=r===void 0?!0:r,n=t.altAxis,d=n===void 0?!1:n,b=t.boundary,m=t.rootBoundary,u=t.altBoundary,x=t.padding,S=t.tether,w=S===void 0?!0:S,T=t.tetherOffset,P=T===void 0?0:T,E=na(a,{boundary:b,rootBoundary:m,padding:x,altBoundary:u}),O=Ke(a.placement),q=ft(a.placement),v=!q,k=ka(O),A=$l(k),y=a.modifiersData.popperOffsets,W=a.rects.reference,V=a.rects.popper,N=typeof P=="function"?P(Object.assign({},a.rects,{placement:a.placement})):P,F=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),z=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,j={x:0,y:0};if(y){if(p){var Q,K=k==="y"?De:We,ce=k==="y"?Re:Xe,ee=k==="y"?"height":"width",J=y[k],be=J+E[K],U=J-E[ce],Z=w?-V[ee]/2:0,X=q===ct?W[ee]:V[ee],oe=q===ct?-V[ee]:-W[ee],ve=a.elements.arrow,Y=w&&ve?wa(ve):{width:0,height:0},R=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:Sa(),g=R[K],B=R[ce],re=It(0,W[ee],Y[ee]),me=v?W[ee]/2-Z-re-g-F.mainAxis:X-re-g-F.mainAxis,Je=v?-W[ee]/2+Z+re+B+F.mainAxis:oe+re+B+F.mainAxis,_=a.elements.arrow&&Ft(a.elements.arrow),le=_?k==="y"?_.clientTop||0:_.clientLeft||0:0,Qe=(Q=z==null?void 0:z[k])!=null?Q:0,vt=J+me-Qe-le,ie=J+Je-Qe,rt=It(w?Rt(be,vt):be,J,w?lt(U,ie):U);y[k]=rt,j[k]=rt-J}if(d){var we,xe=k==="x"?De:We,ye=k==="x"?Re:Xe,ke=y[A],_e=A==="y"?"height":"width",Ze=ke+E[xe],et=ke-E[ye],Ve=[De,We].indexOf(O)!==-1,Se=(we=z==null?void 0:z[A])!=null?we:0,tt=Ve?Ze:ke-W[_e]-V[_e]-Se+F.altAxis,qe=Ve?ke+W[_e]+V[_e]-Se-F.altAxis:et,$e=w&&Ve?Nl(tt,ke,qe):It(w?tt:Ze,ke,w?qe:et);y[A]=$e,j[A]=$e-ke}a.modifiersData[o]=j}}var Wl={name:"preventOverflow",enabled:!0,phase:"main",fn:Fl,requiresIfExists:["offset"]},Ul={left:"right",right:"left",bottom:"top",top:"bottom"};function Mt(e){return e.replace(/left|right|bottom|top/g,function(a){return Ul[a]})}var Hl={start:"end",end:"start"};function ga(e){return e.replace(/start|end/g,function(a){return Hl[a]})}function zl(e,a){a===void 0&&(a={});var t=a,o=t.placement,r=t.boundary,p=t.rootBoundary,n=t.padding,d=t.flipVariations,b=t.allowedAutoPlacements,m=b===void 0?ll:b,u=ft(o),x=u?d?fa:fa.filter(function(T){return ft(T)===u}):Wt,S=x.filter(function(T){return m.indexOf(T)>=0});S.length===0&&(S=x);var w=S.reduce(function(T,P){return T[P]=na(e,{placement:P,boundary:r,rootBoundary:p,padding:n})[Ke(P)],T},{});return Object.keys(w).sort(function(T,P){return w[T]-w[P]})}function Gl(e){if(Ke(e)===ra)return[];var a=Mt(e);return[ga(e),a,ga(a)]}function Kl(e){var a=e.state,t=e.options,o=e.name;if(!a.modifiersData[o]._skip){for(var r=t.mainAxis,p=r===void 0?!0:r,n=t.altAxis,d=n===void 0?!0:n,b=t.fallbackPlacements,m=t.padding,u=t.boundary,x=t.rootBoundary,S=t.altBoundary,w=t.flipVariations,T=w===void 0?!0:w,P=t.allowedAutoPlacements,E=a.options.placement,O=Ke(E),q=O===E,v=b||(q||!T?[Mt(E)]:Gl(E)),k=[E].concat(v).reduce(function(Y,R){return Y.concat(Ke(R)===ra?zl(a,{placement:R,boundary:u,rootBoundary:x,padding:m,flipVariations:T,allowedAutoPlacements:P}):R)},[]),A=a.rects.reference,y=a.rects.popper,W=new Map,V=!0,N=k[0],F=0;F<k.length;F++){var z=k[F],j=Ke(z),Q=ft(z)===ct,K=[De,Re].indexOf(j)>=0,ce=K?"width":"height",ee=na(a,{placement:z,boundary:u,rootBoundary:x,altBoundary:S,padding:m}),J=K?Q?Xe:We:Q?Re:De;A[ce]>y[ce]&&(J=Mt(J));var be=Mt(J),U=[];if(p&&U.push(ee[j]<=0),d&&U.push(ee[J]<=0,ee[be]<=0),U.every(function(Y){return Y})){N=z,V=!1;break}W.set(z,U)}if(V)for(var Z=T?3:1,X=function(R){var g=k.find(function(B){var re=W.get(B);if(re)return re.slice(0,R).every(function(me){return me})});if(g)return N=g,"break"},oe=Z;oe>0;oe--){var ve=X(oe);if(ve==="break")break}a.placement!==N&&(a.modifiersData[o]._skip=!0,a.placement=N,a.reset=!0)}}var Xl={name:"flip",enabled:!0,phase:"main",fn:Kl,requiresIfExists:["offset"],data:{_skip:!1}};function Yl(e,a,t){const{disabled:o,appendTo:r,appendToBody:p,openDirection:n}=Pe(e),d=_t().proxy,b=t.multiselect,m=t.dropdown,u=D(!1),x=D(null),S=D(null),w=ne(()=>r.value||p.value),T=ne(()=>n.value==="top"&&S.value==="bottom"||n.value==="bottom"&&S.value!=="top"?"bottom":"top"),P=()=>{u.value||o.value||(u.value=!0,a.emit("open",d),w.value&&xt(()=>{O()}))},E=()=>{u.value&&(u.value=!1,a.emit("close",d))},O=()=>{if(!x.value)return;let v=parseInt(window.getComputedStyle(m.value).borderTopWidth.replace("px","")),k=parseInt(window.getComputedStyle(m.value).borderBottomWidth.replace("px",""));x.value.setOptions(A=>({...A,modifiers:[...A.modifiers,{name:"offset",options:{offset:[0,(T.value==="top"?v:k)*-1]}}]})),x.value.update()},q=v=>{for(;v&&v!==document.body;){if(getComputedStyle(v).position==="fixed")return!0;v=v.parentElement}return!1};return $t(()=>{w.value&&(x.value=Vl(b.value,m.value,{strategy:q(b.value)?"fixed":void 0,placement:n.value,modifiers:[Wl,Xl,{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:v})=>{v.styles.popper.width=`${v.rects.reference.width}px`},effect:({state:v})=>{v.elements.popper.style.width=`${v.elements.reference.offsetWidth}px`}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:v}){S.value=v.placement}}]}))}),qa(()=>{!w.value||!x.value||(x.value.destroy(),x.value=null)}),{popper:x,isOpen:u,open:P,close:E,placement:T,updatePopper:O}}function Jl(e,a,t){const{searchable:o,disabled:r,clearOnBlur:p}=Pe(e),n=t.input,d=t.open,b=t.close,m=t.clearSearch,u=t.isOpen,x=t.wrapper,S=t.tags,w=D(!1),T=D(!1),P=ne(()=>o.value||r.value?-1:0),E=()=>{o.value&&n.value.blur(),x.value.blur()},O=()=>{o.value&&!r.value&&n.value.focus()},q=(V=!0)=>{r.value||(w.value=!0,V&&d())},v=()=>{w.value=!1,setTimeout(()=>{w.value||(b(),p.value&&m())},1)};return{tabindex:P,isActive:w,mouseClicked:T,blur:E,focus:O,activate:q,deactivate:v,handleFocusIn:V=>{V.target.closest("[data-tags]")&&V.target.nodeName!=="INPUT"||V.target.closest("[data-clear]")||q(T.value)},handleFocusOut:()=>{v()},handleCaretClick:()=>{v(),E()},handleMousedown:V=>{T.value=!0,u.value&&(V.target.isEqualNode(x.value)||V.target.isEqualNode(S.value))?setTimeout(()=>{v()},0):!u.value&&(document.activeElement.isEqualNode(x.value)||document.activeElement.isEqualNode(n.value))&&q(),setTimeout(()=>{T.value=!1},0)}}}function Ql(e,a,t){const{mode:o,addTagOn:r,openDirection:p,searchable:n,showOptions:d,valueProp:b,groups:m,addOptionOn:u,createTag:x,createOption:S,reverse:w}=Pe(e),T=_t().proxy,P=t.iv,E=t.update,O=t.deselect,q=t.search,v=t.setPointer,k=t.selectPointer,A=t.backwardPointer,y=t.forwardPointer,W=t.multiselect,V=t.wrapper,N=t.tags,F=t.isOpen,z=t.open,j=t.blur,Q=t.fo,K=ne(()=>x.value||S.value||!1),ce=ne(()=>r.value!==void 0?r.value:u.value!==void 0?u.value:["enter"]),ee=()=>{o.value==="tags"&&!d.value&&K.value&&n.value&&!m.value&&v(Q.value[Q.value.map(U=>U[b.value]).indexOf(q.value)])};return{handleKeydown:U=>{a.emit("keydown",U,T);let Z,X;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(U.key)!==-1&&o.value==="tags"&&(Z=[...W.value.querySelectorAll("[data-tags] > *")].filter(oe=>oe!==N.value),X=Z.findIndex(oe=>oe===document.activeElement)),U.key){case"Backspace":if(o.value==="single"||n.value&&[null,""].indexOf(q.value)===-1||P.value.length===0)return;let oe=P.value.filter(ve=>!ve.disabled&&ve.remove!==!1);oe.length&&O(oe[oe.length-1]);break;case"Enter":if(U.preventDefault(),U.keyCode===229)return;if(X!==-1&&X!==void 0){E([...P.value].filter((ve,Y)=>Y!==X)),X===Z.length-1&&(Z.length-1?Z[Z.length-2].focus():n.value?N.value.querySelector("input").focus():V.value.focus());return}if(ce.value.indexOf("enter")===-1&&K.value)return;ee(),k();break;case" ":if(!K.value&&!n.value){U.preventDefault(),ee(),k();return}if(!K.value)return!1;if(ce.value.indexOf("space")===-1&&K.value)return;U.preventDefault(),ee(),k();break;case"Tab":case";":case",":if(ce.value.indexOf(U.key.toLowerCase())===-1||!K.value)return;ee(),k(),U.preventDefault();break;case"Escape":j();break;case"ArrowUp":if(U.preventDefault(),!d.value)return;F.value||z(),A();break;case"ArrowDown":if(U.preventDefault(),!d.value)return;F.value||z(),y();break;case"ArrowLeft":if(n.value&&N.value&&N.value.querySelector("input").selectionStart||U.shiftKey||o.value!=="tags"||!P.value||!P.value.length)return;U.preventDefault(),X===-1?Z[Z.length-1].focus():X>0&&Z[X-1].focus();break;case"ArrowRight":if(X===-1||U.shiftKey||o.value!=="tags"||!P.value||!P.value.length)return;U.preventDefault(),Z.length>X+1?Z[X+1].focus():n.value?N.value.querySelector("input").focus():n.value||V.value.focus();break}},handleKeyup:U=>{a.emit("keyup",U,T)},preparePointer:ee}}function Zl(e,a,t){const{classes:o,disabled:r,showOptions:p,breakTags:n}=Pe(e),d=t.isOpen,b=t.isPointed,m=t.isSelected,u=t.isDisabled,x=t.isActive,S=t.canPointGroups,w=t.resolving,T=t.fo,P=t.placement,E=ne(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagWrapper:"multiselect-tag-wrapper",tagWrapperBreak:"multiselect-tag-wrapper-break",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...o.value})),O=ne(()=>!!(d.value&&p.value&&(!w.value||w.value&&T.value.length)));return{classList:ae(()=>{const v=E.value;return{container:[v.container].concat(r.value?v.containerDisabled:[]).concat(O.value&&P.value==="top"?v.containerOpenTop:[]).concat(O.value&&P.value!=="top"?v.containerOpen:[]).concat(x.value?v.containerActive:[]),wrapper:v.wrapper,spacer:v.spacer,singleLabel:v.singleLabel,singleLabelText:v.singleLabelText,multipleLabel:v.multipleLabel,search:v.search,tags:v.tags,tag:[v.tag].concat(r.value?v.tagDisabled:[]),tagWrapper:[v.tagWrapper,n.value?v.tagWrapperBreak:null],tagDisabled:v.tagDisabled,tagRemove:v.tagRemove,tagRemoveIcon:v.tagRemoveIcon,tagsSearchWrapper:v.tagsSearchWrapper,tagsSearch:v.tagsSearch,tagsSearchCopy:v.tagsSearchCopy,placeholder:v.placeholder,caret:[v.caret].concat(d.value?v.caretOpen:[]),clear:v.clear,clearIcon:v.clearIcon,spinner:v.spinner,inifinite:v.inifinite,inifiniteSpinner:v.inifiniteSpinner,dropdown:[v.dropdown].concat(P.value==="top"?v.dropdownTop:[]).concat(!d.value||!p.value||!O.value?v.dropdownHidden:[]),options:[v.options].concat(P.value==="top"?v.optionsTop:[]),group:v.group,groupLabel:k=>{let A=[v.groupLabel];return b(k)?A.push(m(k)?v.groupLabelSelectedPointed:v.groupLabelPointed):m(k)&&S.value?A.push(u(k)?v.groupLabelSelectedDisabled:v.groupLabelSelected):u(k)&&A.push(v.groupLabelDisabled),S.value&&A.push(v.groupLabelPointable),A},groupOptions:v.groupOptions,option:(k,A)=>{let y=[v.option];return b(k)?y.push(m(k)?v.optionSelectedPointed:v.optionPointed):m(k)?y.push(u(k)?v.optionSelectedDisabled:v.optionSelected):(u(k)||A&&u(A))&&y.push(v.optionDisabled),y},noOptions:v.noOptions,noResults:v.noResults,assist:v.assist,fakeInput:v.fakeInput}}),showDropdown:O}}function es(e,a,t){const{limit:o,infinite:r}=Pe(e),p=t.isOpen,n=t.offset,d=t.search,b=t.pfo,m=t.eo,u=D(null),x=it(null),S=ne(()=>n.value<b.value.length),w=P=>{const{isIntersecting:E,target:O}=P[0];if(E){const q=O.offsetParent,v=q.scrollTop;n.value+=o.value==-1?10:o.value,xt(()=>{q.scrollTop=v})}},T=()=>{p.value&&n.value<b.value.length?u.value.observe(x.value):!p.value&&u.value&&u.value.disconnect()};return Ce(p,()=>{r.value&&T()}),Ce(d,()=>{r.value&&(n.value=o.value,T())},{flush:"post"}),Ce(m,()=>{r.value&&T()},{immediate:!1,flush:"post"}),$t(()=>{window&&window.IntersectionObserver&&(u.value=new IntersectionObserver(w))}),{hasMore:S,infiniteLoader:x}}function ts(e,a,t){const{placeholder:o,id:r,valueProp:p,label:n,mode:d,groupLabel:b,aria:m,searchable:u}=Pe(e),x=t.pointer,S=t.iv,w=t.hasSelected,T=t.multipleLabelText,P=D(null),E=ne(()=>`${r.value?r.value+"-":""}assist`),O=ne(()=>`${r.value?r.value+"-":""}multiselect-options`),q=ne(()=>{if(x.value){let j=r.value?`${r.value}-`:"";return j+=`${x.value.group?"multiselect-group":"multiselect-option"}-`,j+=x.value.group?x.value.index:x.value[p.value],j}}),v=ne(()=>o.value),k=ne(()=>d.value!=="single"),A=ae(()=>d.value==="single"&&w.value?S.value[n.value]:d.value==="multiple"&&w.value?T.value:d.value==="tags"&&w.value?S.value.map(j=>j[n.value]).join(", "):""),y=ae(()=>{let j={...m.value};return u.value&&(j["aria-labelledby"]=j["aria-labelledby"]?`${E.value} ${j["aria-labelledby"]}`:E.value,A.value&&j["aria-label"]&&(j["aria-label"]=`${A.value}, ${j["aria-label"]}`)),j}),W=j=>`${r.value?r.value+"-":""}multiselect-option-${j[p.value]}`,V=j=>`${r.value?r.value+"-":""}multiselect-group-${j.index}`,N=j=>`${j}`,F=j=>`${j}`,z=j=>`${j} ❎`;return $t(()=>{if(r.value&&document&&document.querySelector){let j=document.querySelector(`[for="${r.value}"]`);P.value=j?j.innerText:null}}),{arias:y,ariaLabel:A,ariaAssist:E,ariaControls:O,ariaPlaceholder:v,ariaMultiselectable:k,ariaActiveDescendant:q,ariaOptionId:W,ariaOptionLabel:N,ariaGroupId:V,ariaGroupLabel:F,ariaTagLabel:z}}function as(e,a,t){const{locale:o,fallbackLocale:r}=Pe(e);return{localize:n=>!n||typeof n!="object"?n:n&&n[o.value]?n[o.value]:n&&o.value&&n[o.value.toUpperCase()]?n[o.value.toUpperCase()]:n&&n[r.value]?n[r.value]:n&&r.value&&n[r.value.toUpperCase()]?n[r.value.toUpperCase()]:n&&Object.keys(n)[0]?n[Object.keys(n)[0]]:""}}function ls(e,a,t){const o=it(null),r=it(null),p=it(null),n=it(null),d=it(null);return{multiselect:o,wrapper:r,tags:p,input:n,dropdown:d}}function ss(e,a,t,o={}){return t.forEach(r=>{o={...o,...r(e,a,o)}}),o}var Vt={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1,default:void 0},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:[String,Array],required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1,default:void 0},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1,default:void 0},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function,default:void 0},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1},appendToBody:{required:!1,type:Boolean,default:!1},closeOnScroll:{required:!1,type:Boolean,default:!1},breakTags:{required:!1,type:Boolean,default:!1},appendTo:{required:!1,type:String,default:void 0}},setup(e,a){return ss(e,a,[ls,as,Fa,Ua,Yl,Wa,Na,Jl,Ga,es,Ka,Ql,Zl,ts])},beforeMount(){(this.$root.constructor&&this.$root.constructor.version&&this.$root.constructor.version.match(/^2\./)||this.vueVersionMs===2)&&(this.$options.components.Teleport||(this.$options.components.Teleport={render(){return this.$slots.default?this.$slots.default[0]:null}}))}};const rs=["id","dir"],ns=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],os=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],is=["onKeyup","aria-label"],us=["onClick"],ds=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],cs=["innerHTML"],fs=["id"],vs=["id"],ps=["id","aria-label","aria-selected"],bs=["data-pointed","onMouseenter","onClick"],ms=["innerHTML"],gs=["aria-label"],ys=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],hs=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],ws=["innerHTML"],xs=["innerHTML"],Os=["value"],ks=["name","value"],_s=["name","value"],Ss=["id"];function Cs(e,a,t,o,r,p){return C(),L("div",{ref:"multiselect",class:G(e.classList.container),id:t.searchable?void 0:t.id,dir:t.rtl?"rtl":void 0,onFocusin:a[12]||(a[12]=(...n)=>e.handleFocusIn&&e.handleFocusIn(...n)),onFocusout:a[13]||(a[13]=(...n)=>e.handleFocusOut&&e.handleFocusOut(...n)),onKeyup:a[14]||(a[14]=(...n)=>e.handleKeyup&&e.handleKeyup(...n)),onKeydown:a[15]||(a[15]=(...n)=>e.handleKeydown&&e.handleKeydown(...n))},[l("div",Yt({class:e.classList.wrapper,onMousedown:a[9]||(a[9]=(...n)=>e.handleMousedown&&e.handleMousedown(...n)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":t.searchable?void 0:e.ariaControls,"aria-placeholder":t.searchable?void 0:e.ariaPlaceholder,"aria-expanded":t.searchable?void 0:e.isOpen,"aria-activedescendant":t.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":t.searchable?void 0:e.ariaMultiselectable,role:t.searchable?void 0:"combobox"},t.searchable?{}:e.arias),[I(" Search "),t.mode!=="tags"&&t.searchable&&!t.disabled?(C(),L("input",Yt({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:t.autocomplete,id:t.searchable?t.id:void 0,onInput:a[0]||(a[0]=(...n)=>e.handleSearchInput&&e.handleSearchInput(...n)),onKeypress:a[1]||(a[1]=(...n)=>e.handleKeypress&&e.handleKeypress(...n)),onPaste:a[2]||(a[2]=wt((...n)=>e.handlePaste&&e.handlePaste(...n),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,os)):I("v-if",!0),I(" Tags (with search) "),t.mode=="tags"?(C(),L("div",{key:1,class:G(e.classList.tags),"data-tags":""},[(C(!0),L(Oe,null,Be(e.iv,(n,d,b)=>he(e.$slots,"tag",{option:n,handleTagRemove:e.handleTagRemove,disabled:t.disabled},()=>[(C(),L("span",{class:G([e.classList.tag,n.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:da(m=>e.handleTagRemove(n,m),["enter"]),key:b,"aria-label":e.ariaTagLabel(e.localize(n[t.label]))},[l("span",{class:G(e.classList.tagWrapper)},M(e.localize(n[t.label])),3),!t.disabled&&!n.disabled?(C(),L("span",{key:0,class:G(e.classList.tagRemove),onClick:wt(m=>e.handleTagRemove(n,m),["stop"])},[l("span",{class:G(e.classList.tagRemoveIcon)},null,2)],10,us)):I("v-if",!0)],42,is))])),256)),l("div",{class:G(e.classList.tagsSearchWrapper),ref:"tags"},[I(" Used for measuring search width "),l("span",{class:G(e.classList.tagsSearchCopy)},M(e.search),3),I(" Actual search input "),t.searchable&&!t.disabled?(C(),L("input",Yt({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:t.searchable?t.id:void 0,autocomplete:t.autocomplete,onInput:a[3]||(a[3]=(...n)=>e.handleSearchInput&&e.handleSearchInput(...n)),onKeypress:a[4]||(a[4]=(...n)=>e.handleKeypress&&e.handleKeypress(...n)),onPaste:a[5]||(a[5]=wt((...n)=>e.handlePaste&&e.handlePaste(...n),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,ds)):I("v-if",!0)],2)],2)):I("v-if",!0),I(" Single label "),t.mode=="single"&&e.hasSelected&&!e.search&&e.iv?he(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[l("div",{class:G(e.classList.singleLabel)},[l("span",{class:G(e.classList.singleLabelText)},M(e.localize(e.iv[t.label])),3)],2)]):I("v-if",!0),I(" Multiple label "),t.mode=="multiple"&&e.hasSelected&&!e.search?he(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[l("div",{class:G(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,cs)]):I("v-if",!0),I(" Placeholder "),t.placeholder&&!e.hasSelected&&!e.search?he(e.$slots,"placeholder",{key:4},()=>[l("div",{class:G(e.classList.placeholder),"aria-hidden":"true"},M(t.placeholder),3)]):I("v-if",!0),I(" Spinner "),t.loading||e.resolving?he(e.$slots,"spinner",{key:5},()=>[l("span",{class:G(e.classList.spinner),"aria-hidden":"true"},null,2)]):I("v-if",!0),I(" Clear "),e.hasSelected&&!t.disabled&&t.canClear&&!e.busy?he(e.$slots,"clear",{key:6,clear:e.clear},()=>[l("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:G(e.classList.clear),onClick:a[6]||(a[6]=(...n)=>e.clear&&e.clear(...n)),onKeyup:a[7]||(a[7]=da((...n)=>e.clear&&e.clear(...n),["enter"]))},[l("span",{class:G(e.classList.clearIcon)},null,2)],34)]):I("v-if",!0),I(" Caret "),t.caret&&t.showOptions?he(e.$slots,"caret",{key:7,handleCaretClick:e.handleCaretClick,isOpen:e.isOpen},()=>[l("span",{class:G(e.classList.caret),onClick:a[8]||(a[8]=(...n)=>e.handleCaretClick&&e.handleCaretClick(...n)),"aria-hidden":"true"},null,2)]):I("v-if",!0)],16,ns),I(" Options "),(C(),Ba(Da,{to:t.appendTo||"body",disabled:!t.appendToBody&&!t.appendTo},[l("div",{id:t.id?`${t.id}-dropdown`:void 0,class:G(e.classList.dropdown),tabindex:"-1",ref:"dropdown",onFocusin:a[10]||(a[10]=(...n)=>e.handleFocusIn&&e.handleFocusIn(...n)),onFocusout:a[11]||(a[11]=(...n)=>e.handleFocusOut&&e.handleFocusOut(...n))},[he(e.$slots,"beforelist",{options:e.fo}),l("ul",{class:G(e.classList.options),id:e.ariaControls,role:"listbox"},[t.groups?(C(!0),L(Oe,{key:0},Be(e.fg,(n,d,b)=>(C(),L("li",{class:G(e.classList.group),key:b,id:e.ariaGroupId(n),"aria-label":e.ariaGroupLabel(e.localize(n[t.groupLabel])),"aria-selected":e.isSelected(n),role:"option"},[n.__CREATE__?I("v-if",!0):(C(),L("div",{key:0,class:G(e.classList.groupLabel(n)),"data-pointed":e.isPointed(n),onMouseenter:m=>e.setPointer(n,d),onClick:m=>e.handleGroupClick(n)},[he(e.$slots,"grouplabel",{group:n,isSelected:e.isSelected,isPointed:e.isPointed},()=>[l("span",{innerHTML:e.localize(n[t.groupLabel])},null,8,ms)])],42,bs)),l("ul",{class:G(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(n[t.groupLabel])),role:"group"},[(C(!0),L(Oe,null,Be(n.__VISIBLE__,(m,u,x)=>(C(),L("li",{class:G(e.classList.option(m,n)),"data-pointed":e.isPointed(m),"data-selected":e.isSelected(m)||void 0,key:x,onMouseenter:S=>e.setPointer(m),onClick:S=>e.handleOptionClick(m),id:e.ariaOptionId(m),"aria-selected":e.isSelected(m),"aria-label":e.ariaOptionLabel(e.localize(m[t.label])),role:"option"},[he(e.$slots,"option",{option:m,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[l("span",null,M(e.localize(m[t.label])),1)])],42,ys))),128))],10,gs)],10,ps))),128)):(C(!0),L(Oe,{key:1},Be(e.fo,(n,d,b)=>(C(),L("li",{class:G(e.classList.option(n)),"data-pointed":e.isPointed(n),"data-selected":e.isSelected(n)||void 0,key:b,onMouseenter:m=>e.setPointer(n),onClick:m=>e.handleOptionClick(n),id:e.ariaOptionId(n),"aria-selected":e.isSelected(n),"aria-label":e.ariaOptionLabel(e.localize(n[t.label])),role:"option"},[he(e.$slots,"option",{option:n,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[l("span",null,M(e.localize(n[t.label])),1)])],42,hs))),128))],10,vs),e.noOptions?he(e.$slots,"nooptions",{key:0},()=>[l("div",{class:G(e.classList.noOptions),innerHTML:e.localize(t.noOptionsText)},null,10,ws)]):I("v-if",!0),e.noResults?he(e.$slots,"noresults",{key:1},()=>[l("div",{class:G(e.classList.noResults),innerHTML:e.localize(t.noResultsText)},null,10,xs)]):I("v-if",!0),t.infinite&&e.hasMore?(C(),L("div",{key:2,class:G(e.classList.inifinite),ref:"infiniteLoader"},[he(e.$slots,"infinite",{},()=>[l("span",{class:G(e.classList.inifiniteSpinner)},null,2)])],2)):I("v-if",!0),he(e.$slots,"afterlist",{options:e.fo})],42,fs)],8,["to","disabled"])),I(" Hacky input element to show HTML5 required warning "),t.required?(C(),L("input",{key:0,class:G(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,Os)):I("v-if",!0),I(" Native input support "),t.nativeSupport?(C(),L(Oe,{key:1},[t.mode=="single"?(C(),L("input",{key:0,type:"hidden",name:t.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,ks)):(C(!0),L(Oe,{key:1},Be(e.plainValue,(n,d)=>(C(),L("input",{type:"hidden",name:`${t.name}[]`,value:n,key:d},null,8,_s))),128))],64)):I("v-if",!0),I(" Screen reader assistive text "),t.searchable&&e.hasSelected?(C(),L("div",{key:2,class:G(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},M(e.ariaLabel),11,Ss)):I("v-if",!0),I(" Create height for empty input "),l("div",{class:G(e.classList.spacer)},null,2)],42,rs)}Vt.render=Cs;Vt.__file="src/Multiselect.vue";const Ls={class:"container mx-auto px-4 py-8"},Ps={class:"max-w-7xl mx-auto"},Ts={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border border-white/20"},Es={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8"},As={class:"flex","aria-label":"Breadcrumb"},Bs={class:"inline-flex items-center space-x-1 md:space-x-3"},Ds={class:"inline-flex items-center"},qs={class:"mb-6"},js={class:"flex flex-col sm:flex-row gap-4"},Is={class:"flex-1"},Ms={class:"relative"},Rs={class:"bg-white rounded-xl shadow-lg overflow-hidden"},Vs={class:"overflow-x-auto"},$s={class:"min-w-full table-auto divide-y divide-gray-200"},Ns={class:"bg-white divide-y divide-gray-200"},Fs={key:0,class:"animate-pulse"},Ws={key:1,class:"hover:bg-gray-50"},Us={class:"td-base"},Hs=["title"],zs=["onClick"],Gs={key:1,class:"text-gray-500"},Ks={class:"td-base"},Xs={class:"td-base"},Ys={class:"td-base"},Js={class:"td-base"},Qs={class:"flex items-center gap-2"},Zs=["onClick","disabled"],er={key:0,class:"text-xs text-gray-500 mt-1"},tr={key:0},ar={key:1,class:"mx-1"},lr={key:2},sr={class:"td-base"},rr={class:"td-base"},nr={class:"flex items-center gap-2 flex-wrap"},or={key:1,class:"text-gray-400"},ir={class:"td-base"},ur={class:"flex items-center gap-1 flex-wrap"},dr={key:1,class:"text-gray-400"},cr={class:"td-base"},fr=["title"],vr=["title"],pr={class:"td-base"},br={class:"td-base"},mr={class:"td-base"},gr={class:"td-base"},yr={key:0,class:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-700 border border-red-300"},hr={key:1,class:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-300"},wr={class:"td-base font-medium"},xr={class:"action-buttons"},Or=["onClick","disabled"],kr=["onClick","disabled"],_r=["onClick","disabled"],Sr=["onClick"],Cr=["onClick"],Lr={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},Pr={class:"flex-1 flex justify-between sm:hidden"},Tr=["disabled"],Er=["disabled"],Ar={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Br={class:"text-sm text-gray-700"},Dr={class:"font-medium"},qr={class:"font-medium"},jr={class:"font-medium"},Ir={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Mr=["disabled"],Rr=["onClick"],Vr={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},$r=["disabled"],Nr={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 h-full w-full z-50 flex items-center justify-center p-4"},Fr={class:"relative mx-auto px-6 md:px-8 py-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white h-[80vh] max-h-[80vh] overflow-hidden flex flex-col min-h-0"},Wr={class:"mt-1 flex flex-col h-full min-h-0"},Ur={class:"flex items-center justify-between mb-4 shrink-0 sticky top-0 bg-white z-10 pb-2"},Hr={class:"text-lg font-medium text-gray-900"},zr={class:"flex-1 overflow-y-scroll pr-1 min-h-0 px-4 md:px-6"},Gr={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},Kr={key:0,class:"text-red-500 text-xs mt-1"},Xr={key:0,class:"text-red-500 text-xs mt-1"},Yr={class:"md:col-span-2"},Jr=["value"],Qr={key:0,class:"text-red-500 text-xs mt-1"},Zr={class:"md:col-span-2"},en={key:0,class:"text-red-500 text-xs mt-1"},tn={class:"text-xs text-gray-500 mt-1"},an={class:"md:col-span-2"},ln={class:"text-xs text-gray-500 mt-1"},sn={class:"md:col-span-2"},rn={class:"md:col-span-2"},nn={class:"md:col-span-2"},on={class:"flex justify-end space-x-3 pt-4 border-t mt-4 bg-white shrink-0 sticky bottom-0 z-10 px-4 md:px-6"},un=["disabled"],dn={key:0,class:"fas fa-spinner fa-spin mr-2"},cn={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},fn={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},vn={class:"mt-3 text-center"},pn={class:"mt-2 px-7 py-3"},bn={class:"text-sm text-gray-500"},mn={class:"flex justify-center space-x-3 pt-4"},gn=["disabled"],yn={key:0,class:"fas fa-spinner fa-spin mr-2"},hn={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 h-full w-full z-50 flex items-center justify-center p-4"},wn={class:"relative mx-auto px-6 py-5 border w-96 shadow-lg rounded-md bg-white",style:{width:"480px"}},xn={class:"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto"},On={class:"text-sm text-gray-700 bg-gray-50 p-3 rounded-md border border-gray-200"},kn={key:0,class:"text-gray-500 flex items-center gap-2"},_n={key:1,class:"flex justify-between gap-4"},Sn={class:"font-semibold"},Cn={class:"font-semibold"},Ln={class:"font-semibold"},Pn={class:"font-semibold"},Tn={class:"space-y-2"},En={class:"w-12"},An=["onUpdate:modelValue"],Bn={class:"bg-amber-50 p-3 rounded-md border border-amber-200"},Dn={class:"text-sm font-semibold text-amber-900"},qn={key:0,class:"text-red-600 text-xs mt-2"},jn={class:"grid grid-cols-2 gap-3 border-t pt-3"},In={class:"relative"},Mn={class:"relative"},Rn=["min"],Vn={class:"mt-4 flex justify-end gap-3 border-t pt-4"},$n=["disabled"],Nn={key:0,class:"fas fa-spinner fa-spin mr-2"},Fn={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Wn={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},Un={class:"mt-3"},Hn={class:"mt-2 px-7 py-3"},zn={class:"text-sm text-gray-500 mb-4"},Gn={class:"space-y-3"},Kn={key:0,class:"text-xs text-red-500 mt-1"},Xn={key:0,class:"border rounded-md p-2"},Yn=["src"],Jn={class:"flex justify-center space-x-3 pt-4"},Qn=["disabled"],Zn={key:0,class:"fas fa-spinner fa-spin mr-2"},ro={__name:"EarthData",setup(e){const{showToast:a}=Ia(),t=D([]),o=D(!1),r=D(null),p=D(""),n=D(""),d=D(""),b=D("created_at"),m=D("desc"),u=D(!1),x=D(!1),S=D(!1),w=D(!1),T=D(!1),P=D(null),E=D(!1),O=D(null),q=D(null),v=D(null),k=D(""),A=D(!1),y=D({}),W=D(null),V=D(!1),N=D(null),F=D(1),z=D({total:0,total_meters:0,verified:0,pending:0}),j=D(!1),Q=D(!1),K=D(null),ce=D("add"),ee=D(""),J=D(""),be=Bt({}),U=D(!1),Z=D({total:0,total_meters:0,verified:0,pending:0}),X=D(!1),oe=ae(()=>g.value.reduce((c,s)=>{const $=be[s.field]||0;return c+$*s.value},0)),ve=D([]),Y=D([]),R=D([]),g=D([]),B=async()=>{try{const c=await qt.customers();console.log("客戶 API 回應:",c),c.status&&(Y.value=Array.isArray(c.data)?c.data:[],console.log("客戶選項:",Y.value))}catch(c){console.error("載入客戶選項錯誤:",c)}},re=async()=>{try{const c=await qt.cleaners();console.log("清運業者 API 回應:",c),c.status&&(ve.value=Array.isArray(c.data)?c.data:[],console.log("清運業者選項:",ve.value))}catch(c){console.error("載入清運業者選項錯誤:",c)}},me=async()=>{try{const c=await qt.soilTypes();console.log("土質類型 API 回應:",c),c.status&&(R.value=Array.isArray(c.data)?c.data:[],console.log("土質類型選項:",R.value))}catch(c){console.error("載入土質類型選項錯誤:",c)}},Je=async()=>{try{const c=await qt.meterTypes();console.log("米數類型 API 回應:",c),c.status&&(g.value=Array.isArray(c.data)?c.data:[],g.value.forEach(s=>{be[s.field]=0}),console.log("米數類型選項:",g.value))}catch(c){console.error("載入米數類型選項錯誤:",c)}};Bt({}),Bt({});const _=Bt({id:null,batch_no:"",issue_date:"",issue_count:0,customer_id:0,valid_date_from:"",valid_date_to:"",cleaner_ids:[],project_name:"",flow_control_no:"",carry_qty:0,carry_soil_type:[],status_desc:"",remark_desc:"",sys_serial_no:"",status:"active"}),le=D({});let Qe=null;const vt=()=>{clearTimeout(Qe),Qe=setTimeout(()=>{ie()},500)},ie=async(c=1)=>{var s;try{o.value=!0;const $=await Ge.list({page:c,search:p.value,issue_date_from:n.value,issue_date_to:d.value,sort_by:b.value,sort_order:m.value,per_page:15});if($.status)t.value=Array.isArray((s=$.data)==null?void 0:s.data)?$.data.data:[],r.value={current_page:$.data.current_page,last_page:$.data.last_page,per_page:$.data.per_page,total:$.data.total,from:$.data.from,to:$.data.to};else throw new Error($.message||"載入土單資料失敗")}catch($){console.error("載入土單資料錯誤:",$),a($.message||"載入土單資料失敗","error")}finally{o.value=!1}},{visiblePages:rt,goToPage:we}=$a(r,ie),xe=()=>{S.value=!1,St(),ve.value.length===0&&re(),Y.value.length===0&&B(),R.value.length===0&&me(),u.value=!0},ye=c=>{S.value=!0,_.id=c.id,_.batch_no=c.batch_no||"",c.cleaners&&Array.isArray(c.cleaners)&&c.cleaners.length>0?_.cleaner_ids=c.cleaners.map(s=>s.id):_.cleaner_ids=[],_.project_name=c.project_name||"",_.flow_control_no=c.flow_control_no||"",_.issue_date=c.issue_date||"",_.issue_count=c.issue_count??0,_.customer_id=c.customer_id||0,_.valid_date_from=c.valid_date_from||"",_.valid_date_to=c.valid_date_to||"",_.carry_qty=c.carry_qty??0,Array.isArray(c.carry_soil_type)?_.carry_soil_type=c.carry_soil_type:c.carry_soil_type?_.carry_soil_type=[c.carry_soil_type]:_.carry_soil_type=[],_.status_desc=c.status_desc||"",_.remark_desc=c.remark_desc||"",_.sys_serial_no=c.sys_serial_no||"",_.status=c.status||"active",ve.value.length===0&&re(),Y.value.length===0&&B(),R.value.length===0&&me(),le.value={},u.value=!0},ke=c=>{P.value=c,x.value=!0},_e=()=>{u.value=!1,St(),le.value={}},Ze=()=>{x.value=!1,P.value=null},et=c=>{O.value=c,q.value=null,v.value=null,k.value="",y.value={},E.value=!0},Ve=()=>{E.value=!1,O.value=null,q.value=null,v.value=null,k.value="",y.value={}},Se=c=>{const s=c.target.files[0];if(y.value={},!s){q.value=null,v.value=null;return}if(!s.type.startsWith("image/")){y.value.certificate="請選擇圖片檔案",q.value=null,v.value=null;return}if(s.size>5*1024*1024){y.value.certificate="圖片大小不可超過 5MB",q.value=null,v.value=null;return}q.value=s;const $=new FileReader;$.onload=te=>{v.value=te.target.result},$.readAsDataURL(s)},tt=async()=>{if(O.value){if(!q.value){y.value.certificate="請上傳結案照片";return}try{A.value=!0;const c=new FormData;c.append("certificate",q.value),c.append("closure_remark",k.value);const s=await Ge.close(O.value.id,c);if(s.status)a("工程結案成功，結案證明已產生","success"),Ve(),ie();else throw new Error(s.message||"結案失敗")}catch(c){console.error("結案錯誤:",c),a(c.message||"結案失敗","error")}finally{A.value=!1}}},qe=c=>{c.id?window.open(`/print/earth-data/${c.id}/closure-certificate`,"_blank"):a("無結案證明","warning")},$e=async c=>{var s,$;K.value=c,ce.value="add",g.value.forEach(te=>{be[te.field]=0}),Z.value={total:0,total_meters:0,verified:0,pending:0},Q.value=!0,X.value=!0;try{const te=await Ge.usageStats(c.id);console.log("調整對話框統計 API 回應:",te),te.status&&(console.log("統計資料:",(s=te.data)==null?void 0:s.totals),Z.value=(($=te.data)==null?void 0:$.totals)||{total:0,total_meters:0,verified:0,pending:0},console.log("adjustTotals.value 設定為:",Z.value))}catch(te){console.error("載入統計失敗:",te)}finally{X.value=!1}},pt=()=>{Q.value=!1,K.value=null,g.value.forEach(c=>{be[c.field]=0})},bt=async()=>{var c,s;if(K.value)try{U.value=!0;const $=oe.value;if(ce.value==="add"&&$<=0){a("請輸入至少一個米數的張數","error");return}if($>(K.value.carry_qty||0)){a(`總米數不可超過案件載運米數限制（${K.value.carry_qty}米）`,"error");return}const te={};g.value.forEach(ue=>{te[ue.field]=be[ue.field]||0});const Fe={action:ce.value,meters:te},Ee=await Ge.adjustDetails(K.value.id,Fe);if(Ee.status){const ue=(c=Ee.data)==null?void 0:c.issue_count;typeof ue=="number"?K.value.issue_count=ue:await ie(((s=r.value)==null?void 0:s.current_page)||1),a("調整成功","success"),pt()}else throw new Error(Ee.message||"調整失敗")}catch($){a($.message||"調整失敗","error")}finally{U.value=!1}},mt=async c=>{var s;if(!(!c||!c.id)){N.value=c,F.value=1,z.value={total:0,total_meters:0,verified:0,pending:0},V.value=!0,j.value=!0;try{const $=await Ge.usageStats(c.id);if(console.log("列印對話框統計 API 回應:",$),$.status){const te=((s=$.data)==null?void 0:s.totals)||{};console.log("統計資料:",te);const Fe=Number(te.total??0),Ee=Number(te.total_meters??0),ue=Number(te.verified??0),je=Math.max(0,Fe-ue);z.value={total:Fe,total_meters:Ee,verified:ue,pending:je},console.log("printTotals.value 設定為:",z.value),F.value>je&&(F.value=je||1)}else a($.message||"取得統計失敗","error")}catch($){console.error("載入統計失敗:",$),a($.message||"取得統計失敗","error")}finally{j.value=!1}}},Ut=()=>{V.value=!1,N.value=null},Ht=()=>{var te;const c=Number(z.value.pending||0);let s=Number(F.value||0);if(!((te=N.value)!=null&&te.id))return;if(!Number.isFinite(s)||s<=0){a("請輸入正確的列印數量","error");return}if(s>c){a(`本次列印數量不可超過未印數量（${c}）`,"error");return}const $=`/print/earth-data/${N.value.id}/pending?count=${s}`;window.open($,"_blank"),Ut()},St=()=>{_.id=null,_.batch_no="",_.issue_date="",_.issue_count=0,_.customer_id=0,_.valid_date_from="",_.valid_date_to="",_.cleaner_ids=[],_.project_name="",_.flow_control_no="",_.carry_qty=0,_.carry_soil_type=[],_.status_desc="",_.remark_desc="",_.sys_serial_no="",_.status="active"},He=async()=>{try{w.value=!0,le.value={};let c;if(S.value?c=await Ge.update(_.id,_):c=await Ge.create(_),c.status)a(S.value?"土單更新成功":"土單建立成功","success"),_e(),ie();else if(c.errors)le.value=c.errors;else throw new Error(c.message||"操作失敗")}catch(c){console.error("提交表單錯誤:",c),a(c.message||"操作失敗","error")}finally{w.value=!1}},Ne=async()=>{try{T.value=!0;const c=await Ge.delete(P.value.id);if(c.status)a("土單刪除成功","success"),Ze(),ie();else throw new Error(c.message||"刪除失敗")}catch(c){console.error("刪除土單錯誤:",c),a(c.message||"刪除失敗","error")}finally{T.value=!1}},gt=c=>c?new Date(c).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",zt=c=>{const s=R.value.find($=>$.code===c);return s?s.code:c};return Ce([b,m],()=>{ie()}),$t(()=>{ie(),re(),B(),me(),Je()}),(c,s)=>{var te,Fe,Ee,ue,je,nt,Ct,yt,Lt,ot,Pt;const $=Ra("router-link");return C(),L(Oe,null,[l("div",Ls,[l("div",Ps,[l("div",Ts,[l("div",Es,[l("div",null,[s[32]||(s[32]=l("h2",{class:"text-2xl font-bold text-gray-800 mb-2"},"土單資料管理",-1)),l("nav",As,[l("ol",Bs,[l("li",Ds,[Dt($,{to:"/dashboard",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-amber-600 transition-colors duration-200"},{default:Ma(()=>[...s[30]||(s[30]=[l("i",{class:"fas fa-home mr-2"},null,-1),se(" Dashboard ",-1)])]),_:1})]),s[31]||(s[31]=l("li",null,[l("div",{class:"flex items-center"},[l("i",{class:"fas fa-chevron-right text-gray-400 mr-2"}),l("span",{class:"text-sm font-medium text-gray-500"},"土單資料管理")])],-1))])])]),l("div",{class:"flex flex-col sm:flex-row gap-4 mt-4 sm:mt-0"},[l("button",{onClick:xe,class:"bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-6 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[...s[33]||(s[33]=[l("svg",{class:"w-5 h-5 mr-2 inline",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),se(" 新增工程 ",-1)])])])]),l("div",qs,[l("div",js,[l("div",Is,[l("div",Ms,[fe(l("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>p.value=f),onInput:vt,type:"text",placeholder:"搜尋（批號、客戶、工程名稱）",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200"},null,544),[[ge,p.value]]),s[34]||(s[34]=l("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[l("i",{class:"fas fa-search text-gray-400"})],-1))])]),fe(l("input",{"onUpdate:modelValue":s[1]||(s[1]=f=>n.value=f),onChange:s[2]||(s[2]=f=>ie()),type:"date",class:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200"},null,544),[[ge,n.value]]),s[37]||(s[37]=l("span",{class:"self-center text-gray-500"},"~",-1)),fe(l("input",{"onUpdate:modelValue":s[3]||(s[3]=f=>d.value=f),onChange:s[4]||(s[4]=f=>ie()),type:"date",class:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200"},null,544),[[ge,d.value]]),fe(l("select",{"onUpdate:modelValue":s[5]||(s[5]=f=>b.value=f),onChange:ie,class:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200"},[...s[35]||(s[35]=[l("option",{value:"created_at"},"建立時間",-1),l("option",{value:"issue_date"},"開立日期",-1),l("option",{value:"batch_no"},"批號",-1)])],544),[[Jt,b.value]]),fe(l("select",{"onUpdate:modelValue":s[6]||(s[6]=f=>m.value=f),onChange:ie,class:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200"},[...s[36]||(s[36]=[l("option",{value:"desc"},"降序",-1),l("option",{value:"asc"},"升序",-1)])],544),[[Jt,m.value]])])]),l("div",Rs,[l("div",Vs,[l("table",$s,[s[46]||(s[46]=l("thead",{class:"bg-gradient-to-r from-amber-50 to-orange-50"},[l("tr",null,[l("th",{class:"th-base min-w-[120px]"},"批號"),l("th",{class:"th-base min-w-[160px]"},"工程名稱"),l("th",{class:"th-base min-w-[140px]"},"管制編號"),l("th",{class:"th-base min-w-[120px]"},"開立日期"),l("th",{class:"th-base min-w-[100px]"},"工程起迄"),l("th",{class:"th-base min-w-[110px]"},"開立張數"),l("th",{class:"th-base min-w-[120px]"},"客戶"),l("th",{class:"th-base min-w-[110px]"},"清運業者"),l("th",{class:"th-base min-w-[120px]"},"載運土質"),l("th",{class:"th-base min-w-[110px]"},"載運米數"),l("th",{class:"th-base min-w-[160px]"},"狀態說明"),l("th",{class:"th-base min-w-[160px]"},"備註說明"),l("th",{class:"th-base min-w-[110px]"},"建檔人員"),l("th",{class:"th-base min-w-[110px]"},"修改人員"),l("th",{class:"th-base min-w-[140px]"},"系統流水號"),l("th",{class:"th-base min-w-[90px]"},"狀態"),l("th",{class:"th-base min-w-[100px]"},"操作")])],-1)),l("tbody",Ns,[o.value?(C(),L("tr",Fs,[...s[38]||(s[38]=[l("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500"},[l("i",{class:"fas fa-spinner fa-spin text-2xl mb-2"}),l("div",null,"載入中...")],-1)])])):t.value.length===0?(C(),L("tr",Ws,[...s[39]||(s[39]=[l("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500"},[l("i",{class:"fas fa-file-alt text-4xl mb-4 text-gray-300"}),l("div",{class:"text-lg font-medium"},"沒有找到土單資料"),l("div",{class:"text-sm"},"請嘗試調整搜尋條件或新增土單")],-1)])])):(C(!0),L(Oe,{key:2},Be(t.value,f=>(C(),L("tr",{key:f.id,class:"hover:bg-gray-50 transition-colors duration-200"},[l("td",Us,M(f.batch_no),1),l("td",{class:"td-base truncate max-w-[20rem]",title:f.project_name},[f.closure_status!=="closed"?(C(),L("a",{key:0,href:"return false;",onClick:wt(pe=>ye(f),["prevent"]),class:"text-blue-600 hover:text-blue-800 cursor-pointer"},M(f.project_name),9,zs)):(C(),L("span",Gs,M(f.project_name),1))],8,Hs),l("td",Ks,M(f.flow_control_no),1),l("td",Xs,M(gt(f.issue_date)),1),l("td",Ys,[se(M(gt(f.valid_date_from)),1),s[40]||(s[40]=l("br",null,null,-1)),se(M(gt(f.valid_date_to)),1)]),l("td",Js,[l("div",Qs,[l("span",null,M(f.issue_count??0),1),l("button",{onClick:pe=>$e(f),class:"btn-adjust",title:"調整張數",disabled:f.closure_status==="closed"},"調整",8,Zs)]),f.voided_count||f.recycled_count?(C(),L("div",er,[f.voided_count?(C(),L("span",tr,"作廢："+M(f.voided_count),1)):I("",!0),f.voided_count&&f.recycled_count?(C(),L("span",ar,"/")):I("",!0),f.recycled_count?(C(),L("span",lr,"回收："+M(f.recycled_count),1)):I("",!0)])):I("",!0)]),l("td",sr,M(f.customer_name||"-"),1),l("td",rr,[l("div",nr,[f.cleaners&&f.cleaners.length>0?(C(!0),L(Oe,{key:0},Be(f.cleaners,pe=>(C(),L("span",{key:pe.id,class:"inline-flex items-center px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-700 border border-blue-200"},M(pe.cleaner_name),1))),128)):(C(),L("span",or,"-"))])]),l("td",ir,[l("div",ur,[f.carry_soil_type&&f.carry_soil_type.length>0?(C(!0),L(Oe,{key:0},Be(f.carry_soil_type,(pe,Ae)=>(C(),L("span",{key:Ae,class:"inline-flex items-center px-2 py-1 text-xs rounded-full bg-green-50 text-green-700 border border-green-200"},M(zt(pe)),1))),128)):(C(),L("span",dr,"-"))])]),l("td",cr,M(f.carry_qty),1),l("td",{class:"td-base truncate max-w-[20rem]",title:f.status_desc},M(f.status_desc||"-"),9,fr),l("td",{class:"td-base truncate max-w-[20rem]",title:f.remark_desc},M(f.remark_desc||"-"),9,vr),l("td",pr,M(f.created_by_name),1),l("td",br,M(f.updated_by_name),1),l("td",mr,M(f.sys_serial_no),1),l("td",gr,[f.closure_status==="closed"?(C(),L("span",yr," 已結案 ")):(C(),L("span",hr," 進行中 "))]),l("td",wr,[l("div",xr,[l("button",{onClick:pe=>ye(f),class:"action-btn action-btn--edit",title:"編輯",disabled:f.closure_status==="closed"},[...s[41]||(s[41]=[l("i",{class:"fas fa-edit action-icon"},null,-1)])],8,Or),l("button",{onClick:pe=>ke(f),class:"action-btn action-btn--delete",title:"刪除",disabled:f.closure_status==="closed"},[...s[42]||(s[42]=[l("i",{class:"fas fa-trash action-icon"},null,-1)])],8,kr),l("button",{onClick:pe=>mt(f),class:"action-btn action-btn--print",title:"列印未列印",disabled:f.closure_status==="closed"},[...s[43]||(s[43]=[l("i",{class:"fas fa-print action-icon"},null,-1)])],8,_r),f.closure_status!=="closed"?(C(),L("button",{key:0,onClick:pe=>et(f),class:"action-btn action-btn--close",title:"結案"},[...s[44]||(s[44]=[l("i",{class:"fas fa-check-circle action-icon"},null,-1)])],8,Sr)):(C(),L("button",{key:1,onClick:pe=>qe(f),class:"action-btn action-btn--view",title:"查看結案證明"},[...s[45]||(s[45]=[l("i",{class:"fas fa-file-image action-icon"},null,-1)])],8,Cr))])])]))),128))])])]),r.value&&r.value.last_page>1?(C(),L("div",Lr,[l("div",Pr,[l("button",{onClick:s[7]||(s[7]=f=>ze(we)(r.value.current_page-1)),disabled:r.value.current_page<=1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"上一頁",8,Tr),l("button",{onClick:s[8]||(s[8]=f=>ze(we)(r.value.current_page+1)),disabled:r.value.current_page>=r.value.last_page,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"下一頁",8,Er)]),l("div",Ar,[l("div",null,[l("p",Br,[s[47]||(s[47]=se(" 顯示第 ",-1)),l("span",Dr,M(r.value.from||0),1),s[48]||(s[48]=se(" 到 ",-1)),l("span",qr,M(r.value.to||0),1),s[49]||(s[49]=se(" 筆，共 ",-1)),l("span",jr,M(r.value.total),1),s[50]||(s[50]=se(" 筆資料 ",-1))])]),l("div",null,[l("nav",Ir,[l("button",{onClick:s[9]||(s[9]=f=>ze(we)(r.value.current_page-1)),disabled:r.value.current_page<=1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[...s[51]||(s[51]=[l("i",{class:"fas fa-chevron-left"},null,-1)])],8,Mr),(C(!0),L(Oe,null,Be(ze(rt),f=>(C(),L(Oe,{key:f},[f!=="..."?(C(),L("button",{key:0,onClick:pe=>ze(we)(f),class:G([f===r.value.current_page?"z-10 bg-amber-50 border-amber-500 text-amber-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},M(f),11,Rr)):(C(),L("span",Vr,"..."))],64))),128)),l("button",{onClick:s[10]||(s[10]=f=>ze(we)(r.value.current_page+1)),disabled:r.value.current_page>=r.value.last_page,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[...s[52]||(s[52]=[l("i",{class:"fas fa-chevron-right"},null,-1)])],8,$r)])])])])):I("",!0)])])]),u.value?(C(),L("div",Nr,[l("div",Fr,[l("div",Wr,[l("div",Ur,[l("h3",Hr,M(S.value?"編輯土單":"新增土單"),1),l("button",{onClick:_e,class:"text-gray-400 hover:text-gray-600"},[...s[53]||(s[53]=[l("i",{class:"fas fa-times text-xl"},null,-1)])])]),l("form",{onSubmit:wt(He,["prevent"]),class:"flex flex-col h-full min-h-0"},[l("div",zr,[l("div",Gr,[l("div",null,[s[54]||(s[54]=l("label",{class:"label-base"},"批號 *",-1)),fe(l("input",{"onUpdate:modelValue":s[11]||(s[11]=f=>_.batch_no=f),type:"text",required:"",class:G(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",{"border-red-500":le.value.batch_no}])},null,2),[[ge,_.batch_no]]),le.value.batch_no?(C(),L("p",Kr,M(le.value.batch_no),1)):I("",!0)]),l("div",null,[s[55]||(s[55]=l("label",{class:"label-base"},"開立日期",-1)),fe(l("input",{"onUpdate:modelValue":s[12]||(s[12]=f=>_.issue_date=f),type:"date",class:G(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",{"border-red-500":le.value.issue_date}])},null,2),[[ge,_.issue_date]]),le.value.issue_date?(C(),L("p",Xr,M(le.value.issue_date),1)):I("",!0)]),l("div",null,[s[56]||(s[56]=l("label",{class:"label-base"},"工程名稱",-1)),fe(l("input",{"onUpdate:modelValue":s[13]||(s[13]=f=>_.project_name=f),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,512),[[ge,_.project_name]])]),l("div",null,[s[57]||(s[57]=l("label",{class:"label-base"},"工程流向管制編號",-1)),fe(l("input",{"onUpdate:modelValue":s[14]||(s[14]=f=>_.flow_control_no=f),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,512),[[ge,_.flow_control_no]])]),l("div",null,[s[58]||(s[58]=l("label",{class:"label-base"},"工程期限（起）",-1)),fe(l("input",{"onUpdate:modelValue":s[15]||(s[15]=f=>_.valid_date_from=f),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,512),[[ge,_.valid_date_from]])]),l("div",null,[s[59]||(s[59]=l("label",{class:"label-base"},"工程期限（迄）",-1)),fe(l("input",{"onUpdate:modelValue":s[16]||(s[16]=f=>_.valid_date_to=f),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,512),[[ge,_.valid_date_to]])]),l("div",Yr,[s[61]||(s[61]=l("label",{class:"label-base"},"客戶",-1)),fe(l("select",{"onUpdate:modelValue":s[17]||(s[17]=f=>_.customer_id=f),class:G(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",{"border-red-500":le.value.customer_id}])},[s[60]||(s[60]=l("option",{value:0},"請選擇",-1)),(C(!0),L(Oe,null,Be(Y.value,f=>(C(),L("option",{key:f.id,value:f.id},M(f.name),9,Jr))),128))],2),[[Jt,_.customer_id,void 0,{number:!0}]]),le.value.customer_id?(C(),L("p",Qr,M(le.value.customer_id),1)):I("",!0)]),l("div",Zr,[s[62]||(s[62]=l("label",{class:"label-base"},"土方清運業者（可多選）",-1)),Dt(ze(Vt),{modelValue:_.cleaner_ids,"onUpdate:modelValue":s[18]||(s[18]=f=>_.cleaner_ids=f),options:ve.value,mode:"tags","close-on-select":!1,searchable:!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"請選擇清運業者",label:"name",valueProp:"id",trackBy:"id",maxHeight:200,class:G({"border-red-500":le.value.cleaner_ids})},null,8,["modelValue","options","class"]),le.value.cleaner_ids?(C(),L("p",en,M(le.value.cleaner_ids),1)):I("",!0),l("p",tn,"已選擇 "+M(((te=_.cleaner_ids)==null?void 0:te.length)||0)+" 個清運業者",1)]),l("div",an,[s[63]||(s[63]=l("label",{class:"label-base"},"載運土質（可多選）",-1)),Dt(ze(Vt),{modelValue:_.carry_soil_type,"onUpdate:modelValue":s[19]||(s[19]=f=>_.carry_soil_type=f),options:R.value,mode:"tags","close-on-select":!1,searchable:!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"請選擇載運土質",label:"display",valueProp:"code",trackBy:"code",maxHeight:200},null,8,["modelValue","options"]),l("p",ln,"已選擇 "+M(((Fe=_.carry_soil_type)==null?void 0:Fe.length)||0)+" 種土質",1)]),l("div",sn,[s[64]||(s[64]=l("label",{class:"label-base"},"載運米數",-1)),fe(l("input",{"onUpdate:modelValue":s[20]||(s[20]=f=>_.carry_qty=f),type:"number",min:"0",step:"0.01",onFocus:s[21]||(s[21]=f=>f.target.select()),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,544),[[ge,_.carry_qty,void 0,{number:!0}]])]),l("div",rn,[s[65]||(s[65]=l("label",{class:"label-base"},"狀態說明",-1)),fe(l("input",{"onUpdate:modelValue":s[22]||(s[22]=f=>_.status_desc=f),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,512),[[ge,_.status_desc]])]),l("div",nn,[s[66]||(s[66]=l("label",{class:"label-base"},"備註說明",-1)),fe(l("textarea",{"onUpdate:modelValue":s[23]||(s[23]=f=>_.remark_desc=f),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,512),[[ge,_.remark_desc]])])])]),l("div",on,[l("button",{type:"button",onClick:_e,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500"},"取消"),l("button",{type:"submit",disabled:w.value,class:"px-4 py-2 text-sm font-medium text-white bg-amber-600 border border-transparent rounded-md hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50 disabled:cursor-not-allowed"},[w.value?(C(),L("i",dn)):I("",!0),se(" "+M(S.value?"更新":"建立"),1)],8,un)])],32)])])])):I("",!0),x.value?(C(),L("div",cn,[l("div",fn,[l("div",vn,[s[70]||(s[70]=l("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[l("i",{class:"fas fa-exclamation-triangle text-red-600 text-xl"})],-1)),s[71]||(s[71]=l("h3",{class:"text-lg font-medium text-gray-900 mt-4"},"確認刪除",-1)),l("div",pn,[l("p",bn,[s[67]||(s[67]=se("您確定要刪除土單「",-1)),l("strong",null,M((Ee=P.value)==null?void 0:Ee.batch_no),1),s[68]||(s[68]=se("」嗎？此操作無法復原。",-1))])]),l("div",mn,[l("button",{onClick:Ze,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500"},"取消"),l("button",{onClick:Ne,disabled:T.value,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"},[T.value?(C(),L("i",yn)):I("",!0),s[69]||(s[69]=se(" 刪除 ",-1))],8,gn)])])])])):I("",!0),Q.value?(C(),L("div",hn,[l("div",wn,[l("div",{class:"flex items-center justify-between mb-4"},[s[73]||(s[73]=l("h3",{class:"text-lg font-medium text-gray-900"},"調整開立張數",-1)),l("button",{onClick:pt,class:"text-gray-400 hover:text-gray-600"},[...s[72]||(s[72]=[l("i",{class:"fas fa-times"},null,-1)])])]),l("div",xn,[l("div",On,[X.value?(C(),L("div",kn,[...s[74]||(s[74]=[l("i",{class:"fas fa-spinner fa-spin"},null,-1),se(" 讀取統計中... ",-1)])])):(C(),L("div",_n,[l("span",null,[s[75]||(s[75]=se("總張數：",-1)),l("span",Sn,M(((ue=Z.value)==null?void 0:ue.total)??0)+" 張",1)]),l("span",null,[s[76]||(s[76]=se("總米數：",-1)),l("span",Cn,M(((je=Z.value)==null?void 0:je.total_meters)??0)+" 米",1)]),l("span",null,[s[77]||(s[77]=se("已印：",-1)),l("span",Ln,M(((nt=Z.value)==null?void 0:nt.verified)??0),1)]),l("span",null,[s[78]||(s[78]=se("未印：",-1)),l("span",Pn,M(((Ct=Z.value)==null?void 0:Ct.pending)??0),1)])]))]),l("div",Tn,[s[80]||(s[80]=l("label",{class:"text-sm font-medium text-gray-900"},"增加張數",-1)),(C(!0),L(Oe,null,Be(g.value,f=>(C(),L("div",{key:f.value,class:"flex items-center gap-2"},[l("span",En,M(f.label),1),fe(l("input",{type:"number",min:"0","onUpdate:modelValue":pe=>be[f.field]=pe,onFocus:s[24]||(s[24]=pe=>pe.target.select()),class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,40,An),[[ge,be[f.field],void 0,{number:!0}]]),s[79]||(s[79]=l("span",{class:"w-6 text-gray-500"},"張",-1))]))),128))]),l("div",Bn,[l("div",Dn,[s[81]||(s[81]=se(" 合計：",-1)),l("span",null,M(oe.value),1),se(" / "+M(((yt=K.value)==null?void 0:yt.carry_qty)||0)+" 米 ",1)]),oe.value>(((Lt=K.value)==null?void 0:Lt.carry_qty)||0)?(C(),L("p",qn," ❌ 超過限制 ")):I("",!0)]),l("div",jn,[l("div",In,[fe(l("input",{type:"date","onUpdate:modelValue":s[25]||(s[25]=f=>ee.value=f),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent peer"},null,512),[[ge,ee.value]]),s[82]||(s[82]=l("label",{class:"absolute left-3 -top-5 text-xs font-medium text-gray-600 bg-white px-1"},"使用起始日期",-1))]),l("div",Mn,[fe(l("input",{type:"date","onUpdate:modelValue":s[26]||(s[26]=f=>J.value=f),min:ee.value,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent peer"},null,8,Rn),[[ge,J.value]]),s[83]||(s[83]=l("label",{class:"absolute left-3 -top-5 text-xs font-medium text-gray-600 bg-white px-1"},"使用結束日期",-1))])])]),l("div",Vn,[l("button",{onClick:pt,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},"取消"),l("button",{onClick:bt,disabled:U.value||oe.value>(((ot=K.value)==null?void 0:ot.carry_qty)||0),class:"px-4 py-2 text-sm font-medium text-white bg-amber-600 border border-transparent rounded-md hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed"},[U.value?(C(),L("i",Nn)):I("",!0),s[84]||(s[84]=se(" 確認 ",-1))],8,$n)])])])):I("",!0),E.value?(C(),L("div",Fn,[l("div",Wn,[l("div",Un,[l("div",{class:"flex items-center justify-between mb-4"},[s[86]||(s[86]=l("h3",{class:"text-lg font-medium text-gray-900"},"確認結案",-1)),l("button",{onClick:Ve,class:"text-gray-400 hover:text-gray-600"},[...s[85]||(s[85]=[l("i",{class:"fas fa-times"},null,-1)])])]),l("div",Hn,[l("p",zn,[se(" 您確定要結案工程「"+M((Pt=O.value)==null?void 0:Pt.project_name)+"」嗎？",1),s[87]||(s[87]=l("br",null,null,-1)),s[88]||(s[88]=se(" 結案後將無法再進行編輯、刪除及列印操作，",-1)),s[89]||(s[89]=l("br",null,null,-1)),s[90]||(s[90]=se(" 上傳的照片將嵌入結案證明 PDF 文件中。 ",-1))]),l("div",Gn,[l("div",null,[s[91]||(s[91]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[se(" 結案現場照片 "),l("span",{class:"text-red-500"},"*")],-1)),l("input",{type:"file",ref_key:"certificateInput",ref:W,onChange:Se,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"},null,544),s[92]||(s[92]=l("p",{class:"text-xs text-gray-500 mt-1"},"請上傳結案現場照片（最大5MB），將嵌入證明書中",-1)),y.value.certificate?(C(),L("p",Kn,M(y.value.certificate),1)):I("",!0)]),v.value?(C(),L("div",Xn,[l("img",{src:v.value,alt:"預覽",class:"max-w-full h-auto max-h-48 mx-auto"},null,8,Yn)])):I("",!0),l("div",null,[s[93]||(s[93]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 結案備註 ",-1)),fe(l("textarea",{"onUpdate:modelValue":s[27]||(s[27]=f=>k.value=f),rows:"3",class:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"請輸入結案相關說明（選填）"},null,512),[[ge,k.value]])])])]),l("div",Jn,[l("button",{onClick:Ve,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},"取消"),l("button",{onClick:tt,disabled:A.value||!q.value,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[A.value?(C(),L("i",Zn)):I("",!0),s[94]||(s[94]=se(" 確認結案 ",-1))],8,Qn)])])])])):I("",!0)]),Dt(Va,{modelValue:V.value,"onUpdate:modelValue":s[28]||(s[28]=f=>V.value=f),totals:z.value,loading:j.value,count:F.value,"onUpdate:count":s[29]||(s[29]=f=>F.value=f),onSubmit:Ht},null,8,["modelValue","totals","loading","count"])],64)}}};export{ro as default};
