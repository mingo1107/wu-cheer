# Laravel å°ˆæ¡ˆåˆ†å±¤æ¶æ§‹èªªæ˜

æœ¬å°ˆæ¡ˆæ¡ç”¨ä»¥ä¸‹åˆ†å±¤è¨­è¨ˆæ¨¡å¼ï¼š
Controller â†’ Service â†’ Repository â†’ Model

- Controllerï¼šå–å¾—èˆ‡é©—è­‰è«‹æ±‚åƒæ•¸ã€å‘¼å« Serviceã€åŒ…è£çµ±ä¸€å›æ‡‰æ ¼å¼ã€è™•ç†ä¾‹å¤–ã€è¨˜éŒ„æ“ä½œæ—¥èªŒ
- Serviceï¼šç·¨æ’å•†æ¥­é‚è¼¯æµç¨‹ã€æ•´å‚™åƒæ•¸ã€æŒç®¡äº¤æ˜“é‚Šç•Œï¼ˆDB Transactionï¼‰
- Repositoryï¼šå°è£è³‡æ–™åº«æŸ¥è©¢èˆ‡äº¤æ˜“ã€ç¶­æŒè³‡æ–™å­˜å–çš„ä¸€è‡´æŠ½è±¡
- ç¦æ­¢äº‹é …ï¼šåš´ç¦åœ¨ Controllerï¼Service ç›´æ¥é€²è¡Œè³‡æ–™åº«æŸ¥è©¢èˆ‡äº¤æ˜“

è«‹å‹™å¿…éµå¾ªä»¥ä¸Šé–‹ç™¼æ–¹å¼ï¼Œä»¥æé«˜å¯ç¶­è­·æ€§èˆ‡å¯æ“´å……æ€§ã€‚

---

## ğŸ“ è³‡æ–™å¤¾çµæ§‹

```
app/
â”œâ”€â”€ Http/
â”‚   â””â”€â”€ Controllers/
â”‚       â””â”€â”€ AccountController.php
â”œâ”€â”€ Services/
â”‚   â””â”€â”€ UserService.php
â”œâ”€â”€ Repositories/
â”‚   â””â”€â”€ UserRepository.php
â”œâ”€â”€ Models/
â”‚   â””â”€â”€ User.php
```

---

## ğŸ›£ï¸ è·¯ç”±å‘½åè¦å‰‡

### å‘½åæ ¼å¼
```
{ç¬¬ä¸€å±¤}.{ç¬¬äºŒå±¤}.{ç¬¬ä¸‰å±¤}.{ç¬¬å››å±¤}
```

### å„å±¤èªªæ˜
| å±¤ç´š | èªªæ˜ | ç¯„ä¾‹ |
|------|------|------|
| **ç¬¬ä¸€å±¤** | é¡å‹è­˜åˆ¥ | `web` (ç¶²é )ã€`api` (API) |
| **ç¬¬äºŒå±¤** | ç¶²å€è·¯å¾‘ | `report-customer` |
| **ç¬¬ä¸‰å±¤** | æ¬Šé™ä»£è™Ÿ | `api-index`ã€`api-list`ã€`api-export` |
| **ç¬¬å››å±¤** | æ–¹æ³•åç¨± | `index`ã€`show`ã€`store`ã€`update`ã€`delete` |

---

## ğŸ³ Laradocker å®¹å™¨åŸ·è¡Œæ–¹å¼

### å®¹å™¨è³‡è¨Š
- **å®¹å™¨åç¨±**: `laradock-workspace-1`
- **å°ˆæ¡ˆè·¯å¾‘**: `/var/www/case/01_mingo/wu-cheer`
- **PHP ç‰ˆæœ¬**: 8.4
- **Laravel ç‰ˆæœ¬**: 12.x

### å¸¸ç”¨æŒ‡ä»¤

#### 1. é€²å…¥å®¹å™¨åŸ·è¡ŒæŒ‡ä»¤
```bash
docker exec laradock-workspace-1 bash -c "cd /var/www/case/01_mingo/wu-cheer && [æŒ‡ä»¤]"
```

#### 2. å¸¸ç”¨ Laravel æŒ‡ä»¤
```bash
# æŸ¥çœ‹è·¯ç”±
docker exec laradock-workspace-1 bash -c "cd /var/www/case/01_mingo/wu-cheer && php artisan route:list"

# è³‡æ–™åº«é·ç§»
docker exec laradock-workspace-1 bash -c "cd /var/www/case/01_mingo/wu-cheer && php artisan migrate"

# å»ºç«‹æ¸¬è©¦è³‡æ–™
docker exec laradock-workspace-1 bash -c "cd /var/www/case/01_mingo/wu-cheer && php artisan db:seed --class=TestUserSeeder"

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
docker exec laradock-workspace-1 bash -c "cd /var/www/case/01_mingo/wu-cheer && php artisan serve --host=0.0.0.0 --port=8000"
```

#### 3. API æ¸¬è©¦æŒ‡ä»¤
```bash
# ç™»å…¥æ¸¬è©¦
curl -X POST http://wu-cheer.local.com/api/account/login -H 'Content-Type: application/json' -d '{"email": "test@example.com", "password": "password123"}'

# ç™»å‡ºæ¸¬è©¦
curl -X POST http://wu-cheer.local.com/api/account/logout -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_JWT_TOKEN'

# å–å¾—å¸³æˆ¶è³‡è¨Šæ¸¬è©¦
curl -X GET http://wu-cheer.local.com/api/account/me -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_JWT_TOKEN'

# ä¿®æ”¹å¯†ç¢¼æ¸¬è©¦
curl -X POST http://wu-cheer.local.com/api/account/change-password -H 'Content-Type: application/json' -H 'Authorization: Bearer YOUR_JWT_TOKEN' -d '{"current_password": "password123", "new_password": "newpassword456", "new_password_confirmation": "newpassword456"}'
```

### å®¹å™¨ç‹€æ…‹æª¢æŸ¥
```bash
# æŸ¥çœ‹é‹è¡Œä¸­çš„å®¹å™¨
docker ps

# æŸ¥çœ‹å®¹å™¨ç«¯å£æ˜ å°„
docker port laradock-nginx-1
docker port laradock-workspace-1
```

### æ³¨æ„äº‹é …
- å°ˆæ¡ˆæª”æ¡ˆä½æ–¼å®¿ä¸»æ©Ÿçš„ `/Users/mingotsai/Work/projects/case/01_mingo/wu-cheer`
- å®¹å™¨å…§å°ˆæ¡ˆè·¯å¾‘ç‚º `/var/www/case/01_mingo/wu-cheer`
- ä½¿ç”¨ `laradock-workspace-1` å®¹å™¨åŸ·è¡Œæ‰€æœ‰ Laravel æŒ‡ä»¤
- é–‹ç™¼ä¼ºæœå™¨é è¨­é‹è¡Œåœ¨ `http://localhost:8000`
